(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(308)},126:function(e,t,a){},293:function(e,t){e.exports="1.4.5"},308:function(e,t,a){"use strict";a.r(t);var n,r,s=a(0),o=a.n(s),i=a(31),l=a.n(i),c=(a(126),a(11)),h=a(12),d=a(7),u=a(14),p=a(15),m=a(1),g=[].indexOf;n=function(){function e(t,a){Object(c.a)(this,e),this.holders=t,this.info=a}return Object(h.a)(e,[{key:"remove",value:function(e){this.holders=this.holders.filter(function(t){return t!==e})}},{key:"mightBeHeldBy",value:function(e){return g.call(this.holders,e)>=0}},{key:"isHeldBy",value:function(e){return 1===this.holders.length&&this.holders[0]===e}}]),e}(),r=function(){function e(t){Object(c.a)(this,e),this.potential=t}return Object(h.a)(e,[{key:"remove",value:function(e){this.potential=this.potential.filter(function(t){return t!==e})}},{key:"doesNotHold",value:function(e){return g.call(this.potential,e)<0}},{key:"mightHold",value:function(e){return g.call(this.potential,e)>=0}}]),e}();var y,f,v=function(){function e(t,a){var s,o,i,l,h,d,u,p;for(o in Object(c.a)(this,e),this.ANSWER_PLAYER_ID="ANSWER",this.rulesId=t.rulesId,this.types=t.types,this.cards={},this.players={},this.discoveriesLog=[],this.suggestions=[],this.accusations=[],this.facts=[],s=function(){var e,a;for(o in a=[],e=t.cards)i=e[o],a.push(o);return a}(),u=a.concat(this.ANSWER_PLAYER_ID),p=t.cards)i=p[o],this.cards[o]=new n(u,i);for(l=0,h=u.length;l<h;l++)d=u[l],this.players[d]=new r(s);this.ANSWER=this.players[this.ANSWER_PLAYER_ID]}return Object(h.a)(e,[{key:"accuse",value:function(e,t,a,n){var r,s;return this.discoveriesLog=[],r={id:n,accuserId:e,cardIds:t,outcome:a},this.accusations.push(r),s=!1,s=this.deduceFromAccusation(r,s),s=this.makeOtherDeductions(s)}},{key:"hand",value:function(e,t){var a;return this.discoveriesLog=[],a=!1,a=this.deduceFromHand(e,t,a),a=this.makeOtherDeductions(a)}},{key:"show",value:function(e,t){var a;return this.discoveriesLog=[],a=!1,a=this.deduceFromShow(e,t,a),a=this.makeOtherDeductions(a)}},{key:"suggest",value:function(e,t,a,n){var r,s;return this.discoveriesLog=[],s={id:n,suggesterId:e,cardIds:t,showedIds:a},this.suggestions.push(s),r=!1,r=this.deduceFromSuggestion(s,r),r=this.makeOtherDeductions(r)}},{key:"commlink",value:function(e,t,a,n,r){var s,o;return this.discoveriesLog=[],o={id:r,callerId:e,receiverId:t,cardIds:a,showed:n},this.commlinks.push(o),s=!1,s=this.deduceFromCommlink(o,s),s=this.makeOtherDeductions(s)}},{key:"playerMustHoldOne",value:function(e,t){var a,n,r,s,o,i;for(i=this.players[e],a=0,n=null,s=0,o=t.length;s<o;s++)if(r=t[s],i.mightHold(r)){if(++a>1)return null;n=r}return n}},{key:"playerMustNotHoldOne",value:function(e,t){var a,n,r,s,o;for(a=0,o=null,r=0,s=t.length;r<s;r++)if(n=t[r],!this.cards[n].isHeldBy(e)){if(++a>1)return null;o=n}return o}},{key:"cardsThatMightBeHeldBy",value:function(e){return this.players[e].potential}},{key:"whoMightHold",value:function(e){return this.cards[e].holders}},{key:"playersAreValid",value:function(e){var t,a,n;for(a=0,n=e.length;a<n;a++)if(t=e[a],!this.playerIsValid(t))return!1;return!0}},{key:"playerIsValid",value:function(e){return e!==this.ANSWER_PLAYER_ID&&e in this.players}},{key:"cardsAreValid",value:function(e){var t,a,n;for(a=0,n=e.length;a<n;a++)if(t=e[a],!this.cardIsValid(t))return!1;return!0}},{key:"cardIsValid",value:function(e){return e in this.cards}},{key:"typeIsValid",value:function(e){return g.call(this.types,e)>=0}},{key:"deduceFromAccusation",value:function(e,t){var a,n,r,s,o,i,l,c;if(s=e.id,a=e.accuserId,r=e.cardIds,c=e.outcome,this.addDiscoveries(a,r,!1,"stated these cards in accusation #"+s),t=this.disassociatePlayerWithCards(a,r,t),c)for(o=0,i=r.length;o<i;o++)n=r[o],t=this.associatePlayerWithCard(this.ANSWER_PLAYER_ID,n,t);else null!==(l=this.playerMustNotHoldOne(this.ANSWER_PLAYER_ID,r))&&(this.addDiscovery(this.ANSWER_PLAYER_ID,l,!1,"accusation #"+s+" was wrong but the answer does hold the others"),t=this.disassociatePlayerWithCard(this.ANSWER_PLAYER_ID,l,t));return t}},{key:"deduceFromHand",value:function(e,t,a){var n;for(n in this.cards)g.call(t,n)>=0?(this.addDiscovery(e,n,!0,"hand"),a=this.associatePlayerWithCard(e,n,a)):(this.addDiscovery(e,n,!1,"hand"),a=this.disassociatePlayerWithCard(e,n,a));return a}},{key:"deduceFromShow",value:function(e,t,a){return this.addDiscovery(e,t,!0,"revealed"),a=this.associatePlayerWithCard(e,t,a)}},{key:"deduceFromSuggestion",value:function(e,t){return t="master"===this.rulesId?this.deduceFromSuggestionWithMasterRules(e,t):this.deduceFromSuggestionWithClassicRules(e,t)}},{key:"deduceFromSuggestionWithClassicRules",value:function(e,t){var a,n,r,s,o,i,l,c,h;if(r=e.id,h=e.suggesterId,a=e.cardIds,null===(c=e.showedIds)||0===c.length)for(i in this.players)i!==this.ANSWER_PLAYER_ID&&i!==h&&(this.addDiscoveries(i,a,!1,"did not show a card in suggestion #"+r),t=this.disassociatePlayerWithCards(i,a,t));else{for(n=s=0,l=c.length-1;0<=l?s<l:s>l;n=0<=l?++s:--s)i=c[n],this.addDiscoveries(i,a,!1,"did not show a card in suggestion #"+r),t=this.disassociatePlayerWithCards(i,a,t);i=c[c.length-1],null!==(o=this.playerMustHoldOne(i,a))&&(this.addDiscovery(i,o,!0,"showed a card in suggestion #"+r+", and does not hold the others"),t=this.associatePlayerWithCard(i,o,t))}return t}},{key:"deduceFromSuggestionWithMasterRules",value:function(e,t){var a,n,r,s,o,i;for(s in n=e.id,i=e.suggesterId,a=e.cardIds,o=e.showedIds,this.players)g.call(o,s)>=0?null!==(r=this.playerMustHoldOne(s,a))&&(this.addDiscovery(s,r,!0,"showed a card in suggestion #"+n+", and does not hold the others"),t=this.associatePlayerWithCard(s,r,t)):s!==this.ANSWER_PLAYER_ID&&s!==i?(this.addDiscoveries(s,a,!1,"did not show a card in suggestion #"+n),this.disassociatePlayerWithCards(s,e.cardIds,t)):3===o.length&&(this.addDiscoveries(s,a,!1,"all three cards were shown by other players in suggestion #"+n),t=this.disassociatePlayerWithCards(s,a,t));return t}},{key:"deduceFromCommlink",value:function(e,t){var a,n,r,s;return n=e.id,s=e.receiverId,a=e.cardIds,e.showed?null!==(r=this.playerMustHoldOne(s,a))&&(this.addDiscovery(s,r,!0,"showed a card in commlink #"+n+", and does not hold the others"),t=this.associatePlayerWithCard(s,r,t)):(this.addDiscoveries(s,a,!1,"did not show a card in commlink #"+n),t=this.disassociatePlayerWithCards(s,a,t)),t}},{key:"makeOtherDeductions",value:function(e){var t,a,n,r,s,o,i,l,c,h,d,u;for(this.addCardHoldersToDiscoveries(),e=this.checkThatAnswerHoldsExactlyOneOfEach(e);e;){for(e=!1,n=0,o=(c=this.suggestions).length;n<o;n++)u=c[n],e=this.deduceFromSuggestion(u,e);for(r=0,i=(h=this.accusations).length;r<i;r++)t=h[r],e=this.deduceFromAccusation(t,e);for(s=0,l=(d=this.commlinks).length;s<l;s++)a=d[s],e=this.deduceFromCommlink(a,e);this.addCardHoldersToDiscoveries(),e=this.checkThatAnswerHoldsExactlyOneOfEach(e)}return this.addCardHoldersToDiscoveries(),e}},{key:"checkThatAnswerHoldsExactlyOneOfEach",value:function(e){var t,a,n,r,s,o,i,l,c,h,d,u,p,m,g,y,f;for(n={},i=0,h=(g=this.players[this.ANSWER_PLAYER_ID].potential).length;i<h;i++)a=g[i],(t=this.cards[a]).isHeldBy(this.ANSWER_PLAYER_ID)&&(n[t.info.type]=a);for(l=0,d=(m=this.ANSWER.potential.slice(0)).length;l<d;l++)for(s in a=m[l],t=this.cards[a],n)r=n[s],t.info.type===s&&a!==r&&(this.addDiscovery(this.ANSWER_PLAYER_ID,a,!1,"ANSWER can only hold one "+s),e=this.disassociatePlayerWithCard(this.ANSWER_PLAYER_ID,a,e));for(p={},c=0,u=(y=this.ANSWER.potential).length;c<u;c++)a=y[c],(t=this.cards[a]).isHeldBy(this.ANSWER_PLAYER_ID)||(null!=p[f=t.info.type]?p[f].only=!1:p[f]={cardId:a,only:!0});for(f in p)(o=p[f]).only&&(this.addDiscovery(this.ANSWER_PLAYER_ID,o.cardId,!0,"Only "+f+" that ANSWER can hold"),e=this.associatePlayerWithCard(this.ANSWER_PLAYER_ID,o.cardId,e));return e}},{key:"associatePlayerWithCard",value:function(e,t,a){return 1===this.cards[t].holders.length?a:this.disassociateOtherPlayersWithCard(e,t,a)}},{key:"disassociatePlayerWithCard",value:function(e,t,a){var n;return(n=this.players[e]).mightHold(t)&&(n.remove(t),this.cards[t].remove(e),a=!0,this.addDiscovery(e,t,!1)),a}},{key:"disassociatePlayerWithCards",value:function(e,t,a){var n,r,s;for(r=0,s=t.length;r<s;r++)n=t[r],a=this.disassociatePlayerWithCard(e,n,a);return a}},{key:"disassociateOtherPlayersWithCard",value:function(e,t,a){var n;for(n in this.players)n!==e&&(a=this.disassociatePlayerWithCard(n,t,a));return a}},{key:"cardIsType",value:function(e,t){return this.cards[e].info.type===t}},{key:"addDiscovery",value:function(e,t,a,n){var r,s,o,i,l,c,h;for(l=0,c=(h=this.facts).length;l<c;l++)if((o=h[l]).playerId===e&&o.cardId===t)return;if(i={playerId:e,cardId:t,holds:a},this.facts.push(i),null!=n)return r=this.cards[t].info,s=e+(a?" holds ":" does not hold ")+this.types[r.type].article+r.name+": "+n,this.discoveriesLog.push(s)}},{key:"addDiscoveries",value:function(e,t,a){var n,r,s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(r=0,s=t.length;r<s;r++)n=t[r],this.addDiscovery(e,n,a,o)}},{key:"addCardHoldersToDiscoveries",value:function(){var e,t,a,n;for(e in n=[],a=this.cards)1===(t=a[e].holders).length?n.push(this.addDiscovery(t[0],e,!0,"nobody else holds it")):n.push(void 0);return n}}]),e}(),b=a(37),C=a.n(b),E=a(26),O=a.n(E),k=a(29),w=a.n(k),I=a(32),j=a.n(I),D=a(45),S=a.n(D),A=a(44),P=a.n(A),W=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};f=function(e){var t,a,n,r,s;return a=e.selected,t=e.cards,r=e.types,o.a.createElement("ul",null,function(){var e;for(n in e=[],r)s=r[n],e.push(o.a.createElement("li",{key:n},o.a.createElement("b",null,s.title),": ",null!=a[n]?t[a[n]].name:void 0));return e}())},y=function(e){var t,a,n,r,s,i;return i=e.value,s=e.type,t=e.cards,r=e.onChange,o.a.createElement(j.a,{row:!0,name:"cards",value:i,onChange:r},function(){var e;for(a in e=[],t)(n=t[a]).type===s&&e.push(o.a.createElement(O.a,{key:a,value:a,control:o.a.createElement(w.a,null),label:n.name}));return e}())};var R,N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChangeTab=a.handleChangeTab.bind(Object(m.a)(Object(m.a)(a))),a.makeChangeEventHandler=a.makeChangeEventHandler.bind(Object(m.a)(Object(m.a)(a))),a.state={currentTab:0},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChangeTab",value:function(e,a){W(this,t),this.setState({currentTab:a})}},{key:"makeChangeEventHandler",value:function(e){var a=this;return W(this,t),function(t){return a.props.onChange(e,t.target.value)}}},{key:"render",value:function(){var e,t,a,n,r,s,i,l=this.props;return i=l.value,e=l.cards,s=l.types,n=function(){var e;for(t in e=[],s)e.push(t);return e}(),r=this.state.currentTab>=0&&this.state.currentTab<n.length?this.state.currentTab:0,a=n[r],o.a.createElement("div",null,o.a.createElement(C.a,{position:"static"},o.a.createElement(P.a,{value:r,onChange:this.handleChangeTab},function(){var e,a,r;for(r=[],e=0,a=n.length;e<a;e++)t=n[e],r.push(o.a.createElement(S.a,{key:t,label:s[t].title}));return r}())),o.a.createElement(y,{value:i[a],cards:e,type:a,onChange:this.makeChangeEventHandler(a)}),o.a.createElement("b",null,"Selected Cards:"),o.a.createElement(f,{selected:i,cards:e,types:s}))}}]),t}(s.Component),x=a(33),H=a.n(x),M=[].indexOf;R=function(e){var t,a,n,r,s;return s=e.value,r=e.players,t=e.excluded,n=e.onChange,o.a.createElement(j.a,{row:!0,name:"players",value:s,onChange:n},function(){var e,n,s;for(s=[],e=0,n=r.length;e<n;e++)a=r[e],s.push(o.a.createElement(O.a,{key:a,value:a,control:o.a.createElement(w.a,null),label:a,disabled:null!=t&&M.call(t,a)>=0}));return s}())};var B,L=function(e){var t,a,n,r;return r=e.value,n=e.players,t=e.excluded,a=e.onChange,o.a.createElement(H.a,{component:"fieldset"},o.a.createElement(R,{value:r,players:n,excluded:t,onChange:function(e){return a(e.target.value)}}))},T=a(10),_=a.n(T),Y=a(22),F=a.n(Y),G=a(25),K=a.n(G),V=a(24),q=a.n(V),J=a(23),z=a.n(J),U=a(27),Q=a.n(U),X=a(13),$=a.n(X),Z=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleClose=a.handleClose.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeAccuserId=a.handleChangeAccuserId.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeCards=a.handleChangeCards.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeOutcome=a.handleChangeOutcome.bind(Object(m.a)(Object(m.a)(a))),a.handleCancel=a.handleCancel.bind(Object(m.a)(Object(m.a)(a))),a.handleDone=a.handleDone.bind(Object(m.a)(Object(m.a)(a))),a.state={accuserId:null,cardIds:{},outcome:null},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"close",value:function(){this.setState({accuserId:null,cardIds:{},outcome:null}),this.props.onClose()}},{key:"stateIsOk",value:function(){var e,t;return e=function(){var e;for(t in e=[],this.state.cardIds)e.push(t);return e}.call(this).length,null!=this.state.accuserId&&3===e&&null!=this.state.outcome}},{key:"handleClose",value:function(){Z(this,t),this.close()}},{key:"handleChangeAccuserId",value:function(e){Z(this,t),this.setState({accuserId:e})}},{key:"handleChangeCards",value:function(e,a){Z(this,t),this.setState(function(t,n){var r;return(r=Object.assign({},t.cardIds))[e]=a,{cardIds:r}})}},{key:"handleChangeOutcome",value:function(e){Z(this,t),this.setState({outcome:e.target.value})}},{key:"handleCancel",value:function(){Z(this,t),this.close()}},{key:"handleDone",value:function(){var e,a,n;Z(this,t),this.stateIsOk()?(a=function(){var t,a;for(n in a=[],t=this.state.cardIds)e=t[n],a.push(e);return a}.call(this),this.props.app.recordAccusation(this.state.accuserId,a,"yes"===this.state.outcome),this.close()):this.props.app.showConfirmDialog("Error","You must select an accuser, 3 cards, and the outcome.")}},{key:"render",value:function(){var e,t,a,n=this.props;return t=n.open,e=n.configuration,a=n.players,o.a.createElement(F.a,{open:t,fullscreen:"true",disableBackdropClick:!0,onClose:this.handleClose},o.a.createElement(z.a,{id:"form-dialog-title"},"Record An Accusation"),o.a.createElement(q.a,null,o.a.createElement($.a,{variant:"h6"},"Who made the accusation?"),o.a.createElement(L,{value:this.state.accuserId,players:a,onChange:this.handleChangeAccuserId}),o.a.createElement(Q.a,null),o.a.createElement($.a,{variant:"h6"},"What was the accusation?"),o.a.createElement(N,{value:this.state.cardIds,cards:e.cards,types:e.types,onChange:this.handleChangeCards}),o.a.createElement(Q.a,null),o.a.createElement($.a,{variant:"h6"},"Was the accusation correct?"),o.a.createElement(H.a,{component:"fieldset"},o.a.createElement(j.a,{row:!0,name:"outcome",value:this.state.outcome,onChange:this.handleChangeOutcome},o.a.createElement(O.a,{value:"yes",control:o.a.createElement(w.a,null),label:"Yes"}),o.a.createElement(O.a,{value:"no",control:o.a.createElement(w.a,null),label:"No"})))),o.a.createElement(K.a,null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(_.a,{disabled:!this.stateIsOk(),variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component),te=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};B=function(e){var t;return t=e.value?"yes":"no",o.a.createElement(H.a,{component:"fieldset"},o.a.createElement(j.a,{row:!0,name:"showed",value:t,onChange:e.onChange},o.a.createElement(O.a,{value:"yes",control:o.a.createElement(w.a,null),label:"Yes"}),o.a.createElement(O.a,{value:"no",control:o.a.createElement(w.a,null),label:"No"})))};var ae,ne,re,se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChangeCallerId=a.handleChangeCallerId.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeSubjectId=a.handleChangeSubjectId.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeCards=a.handleChangeCards.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeShowed=a.handleChangeShowed.bind(Object(m.a)(Object(m.a)(a))),a.handleDone=a.handleDone.bind(Object(m.a)(Object(m.a)(a))),a.handleCancel=a.handleCancel.bind(Object(m.a)(Object(m.a)(a))),a.state={callerId:null,receiverId:null,cardIds:{},showed:!1},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"close",value:function(){this.setState({callerId:null,receiverId:null,cardIds:{},showed:!1}),this.props.onClose()}},{key:"stateIsOk",value:function(){var e,t;return e=function(){var e;for(t in e=[],this.state.cardIds)e.push(t);return e}.call(this).length,null!=this.state.callerId&&null!=this.state.receiverId&&3===e}},{key:"handleChangeCallerId",value:function(e){te(this,t),this.setState({callerId:e})}},{key:"handleChangeSubjectId",value:function(e){te(this,t),this.setState({receiverId:e})}},{key:"handleChangeCards",value:function(e,a){te(this,t),this.setState(function(t,n){var r;return(r=Object.assign({},t.cardIds))[e]=a,{cardIds:r}})}},{key:"handleChangeShowed",value:function(e){te(this,t),this.setState({showed:"yes"===e.target.value})}},{key:"handleDone",value:function(){var e,a,n;te(this,t),this.stateIsOk()?(a=function(){var t,a;for(n in a=[],t=this.state.cardIds)e=t[n],a.push(e);return a}.call(this),this.props.app.recordCommlink(this.state.callerId,this.state.receiverId,a,this.state.showed),this.close()):this.props.app.showConfirmDialog("Error","You must select an caller, a receiver, and one card of each type.")}},{key:"handleCancel",value:function(){te(this,t),this.close()}},{key:"render",value:function(){var e,t,a,n=this.props;return t=n.open,a=n.players,e=n.configuration,o.a.createElement(F.a,{open:t,fullscreen:"true",disableBackdropClick:!0,onClose:this.handleClose},o.a.createElement(z.a,{id:"form-dialog-title"}," Record A Commlink "),o.a.createElement(q.a,null,o.a.createElement($.a,{variant:"h4"}," Who is the caller? "),o.a.createElement(L,{value:this.state.callerId,players:a,excluded:null!=this.state.receiverId?[this.state.receiverId]:[],onChange:this.handleChangeCallerId}),o.a.createElement(Q.a,null),o.a.createElement($.a,{variant:"h4"}," Who is the receiver? "),o.a.createElement(L,{value:this.state.receiverId,players:a,excluded:null!=this.state.callerId?[this.state.callerId]:[],onChange:this.handleChangeSubjectId}),o.a.createElement(Q.a,null),o.a.createElement($.a,{variant:"h4"}," Which cards? "),o.a.createElement(N,{value:this.state.cardIds,cards:e.cards,types:e.types,onChange:this.handleChangeCards}),o.a.createElement(Q.a,null),o.a.createElement($.a,{variant:"h4"}," Was a card shown? "),o.a.createElement(B,{value:this.state.showed,onChange:this.handleChangeShowed})),o.a.createElement(K.a,null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(_.a,{disabled:!this.stateIsOk(),variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component),oe=a(117),ie=a.n(oe),le=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},ce=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).apply(this,arguments))).handleYes=e.handleYes.bind(Object(m.a)(Object(m.a)(e))),e.handleNo=e.handleNo.bind(Object(m.a)(Object(m.a)(e))),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleYes",value:function(){le(this,t),null!=this.props.yesAction&&this.props.yesAction(),this.props.onClose()}},{key:"handleNo",value:function(){le(this,t),null!=this.props.noAction&&this.props.noAction(),this.props.onClose()}},{key:"render",value:function(){var e,t,a,n,r,s=this.props;return t=s.open,n=s.title,a=s.question,r=s.yesAction,e=s.noAction,o.a.createElement(F.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:t,onClose:this.handleNo},o.a.createElement(z.a,{id:"form-dialog-title"},n),o.a.createElement(q.a,null,o.a.createElement(ie.a,null,a)),o.a.createElement(K.a,null,null!=e?o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.handleNo},null!=r?"No":"Cancel"):void 0,null==r&&e?void 0:o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.handleYes},null!=e?"Yes":"Ok")))}}]),t}(s.Component),he=a(50),de=a.n(he),ue=function(e){var t,a,n;return n=e.open,t=e.log,a=e.onClose,o.a.createElement(F.a,{open:n,fullscreen:"true",disableBackdropClick:!0,onClose:a},o.a.createElement(z.a,{id:"form-dialog-title"}," Export "),o.a.createElement(q.a,null,o.a.createElement($.a,{component:"h6"}," Copy the JSON-formatted text below: "),o.a.createElement(de.a,null,o.a.createElement($.a,{component:"pre"}," ",JSON.stringify(t)," "))),o.a.createElement(K.a,null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:a}," Done ")))},pe=a(63),me=a.n(pe),ge=a(51),ye=a.n(ge),fe=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},ve=[].indexOf;re=function(e){var t,a,n,r;return n=e.selected,r=e.type,t=e.cards,o.a.createElement("ul",null,function(){var e,s,i;for(i=[],e=0,s=n.length;e<s;e++)a=n[e],t[a].type===r&&i.push(o.a.createElement("li",{key:a}," ",t[a].name," "));return i}())},ne=function(e){var t,a,n,r,s;return a=e.selected,t=e.cards,r=e.types,o.a.createElement("ul",null,function(){var e;for(n in e=[],r)s=r[n],e.push(o.a.createElement("li",{key:n},o.a.createElement("b",null,s.title),o.a.createElement(re,{selected:a,type:n,cards:t})));return e}())},ae=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).apply(this,arguments))).makeChangeHandler=e.makeChangeHandler.bind(Object(m.a)(Object(m.a)(e))),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"makeChangeHandler",value:function(e){var a=this;return fe(this,t),function(t){return a.props.onChange(e,t.target.checked)}}},{key:"render",value:function(){var e,t,a,n,r,s,i=this.props;return s=i.value,e=i.cards,t=i.excluded,r=i.type,o.a.createElement(ye.a,{row:!0},function(){var i;for(a in i=[],e)(n=e[a]).type===r&&i.push(o.a.createElement(O.a,{key:a,control:o.a.createElement(me.a,{checked:ve.call(s,a)>=0,disabled:null!=t&&ve.call(t,a)>=0,onChange:this.makeChangeHandler(a),value:a}),label:n.name}));return i}.call(this))}}]),t}(s.Component);var be,Ce,Ee,Oe,ke,we=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChangeTab=a.handleChangeTab.bind(Object(m.a)(Object(m.a)(a))),a.state={currentTab:0},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChangeTab",value:function(e,a){fe(this,t),this.setState({currentTab:a})}},{key:"render",value:function(){var e,t,a,n,r,s,i,l,c,h=this.props;return c=h.value,e=h.cards,l=h.types,t=h.excluded,n=h.onChange,s=function(){var e;for(a in e=[],l)e.push(a);return e}(),i=this.state.currentTab>=0&&this.state.currentTab<s.length?this.state.currentTab:0,r=s[i],o.a.createElement("div",null,o.a.createElement(C.a,{position:"static"},o.a.createElement(P.a,{value:i,onChange:this.handleChangeTab},function(){var e,t,n;for(n=[],e=0,t=s.length;e<t;e++)a=s[e],n.push(o.a.createElement(S.a,{key:a,label:l[a].title}));return n}())),o.a.createElement(ae,{value:c,cards:e,excluded:t,type:r,onChange:n}),o.a.createElement("b",null,"Selected Cards:"),o.a.createElement(ne,{selected:c,cards:e,types:l}))}}]),t}(s.Component),Ie=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},je=[].indexOf,De=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleClose=a.handleClose.bind(Object(m.a)(Object(m.a)(a))),a.handleChangePlayer=a.handleChangePlayer.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeCards=a.handleChangeCards.bind(Object(m.a)(Object(m.a)(a))),a.handleDone=a.handleDone.bind(Object(m.a)(Object(m.a)(a))),a.handleCancel=a.handleCancel.bind(Object(m.a)(Object(m.a)(a))),a.state={playerId:null,cardIds:[]},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"close",value:function(){this.setState({playerId:null,cardIds:[]}),this.props.onClose()}},{key:"stateIsOk",value:function(){return null!=this.state.playerId&&this.state.cardIds.length>0}},{key:"handleClose",value:function(){Ie(this,t),this.close()}},{key:"handleChangePlayer",value:function(e){Ie(this,t),this.setState({playerId:e})}},{key:"handleChangeCards",value:function(e,a){Ie(this,t),a?this.setState(function(t,a){return je.call(t.cardIds,e)<0?{cardIds:t.cardIds.concat([e])}:null}):this.setState(function(t,a){var n;return je.call(t.cardIds,e)>=0?{cardIds:function(){var a,r,s,o;for(o=[],a=0,r=(s=t.cardIds).length;a<r;a++)(n=s[a])!==e&&o.push(n);return o}()}:null})}},{key:"handleDone",value:function(){Ie(this,t),this.stateIsOk()?(this.props.app.recordHand(this.state.playerId,this.state.cardIds),this.close()):this.props.app.showConfirmDialog("Error","You must select a player and at least one card")}},{key:"handleCancel",value:function(){Ie(this,t),this.close()}},{key:"render",value:function(){var e,t,a,n=this.props;return t=n.open,a=n.players,e=n.configuration,o.a.createElement(F.a,{open:t,fullscreen:"true",disableBackdropClick:!0,onClose:this.handleClose},o.a.createElement(z.a,{id:"form-dialog-title"},"Record Your Hand"),o.a.createElement(q.a,null,o.a.createElement($.a,{variant:"h6"},"Which player are you?"),o.a.createElement(L,{value:this.state.playerId,players:a,onChange:this.handleChangePlayer}),o.a.createElement(Q.a,null),o.a.createElement($.a,{variant:"h6"},"Select the cards in your hand:"),o.a.createElement(we,{value:this.state.cardIds,cards:e.cards,types:e.types,onChange:this.handleChangeCards})),o.a.createElement(K.a,null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(_.a,{disabled:!this.stateIsOk(),variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component),Se=a(64),Ae=a.n(Se),Pe=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},We=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleClose=a.handleClose.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleCancel=a.handleCancel.bind(Object(m.a)(Object(m.a)(a))),a.handleDone=a.handleDone.bind(Object(m.a)(Object(m.a)(a))),a.state={imported:""},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"close",value:function(){this.setState({imported:""}),this.props.onClose()}},{key:"handleClose",value:function(){Pe(this,t),this.close()}},{key:"handleChange",value:function(e){Pe(this,t),this.setState({imported:e.target.value})}},{key:"handleCancel",value:function(){Pe(this,t),this.close()}},{key:"handleDone",value:function(){Pe(this,t),this.props.app.importLog(this.state.imported),this.close()}},{key:"render",value:function(){var e;return e=this.props.open,o.a.createElement(F.a,{open:e,fullscreen:"true",disableBackdropClick:!0,onClose:this.handleClose},o.a.createElement(z.a,{id:"form-dialog-title"}," Import "),o.a.createElement(q.a,null,o.a.createElement($.a,{variant:"h6"}," Paste an exported log into the text field below: "),o.a.createElement(Ae.a,{autoFocus:!0,fullWidth:!0,margin:"normal",multiline:!0,onChange:this.handleChange,placeholder:"Paste here.",value:this.state.imported,variant:"outlined"})),o.a.createElement(K.a,null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.handleCancel}," Cancel "),o.a.createElement(_.a,{disabled:0===this.state.imported.length,variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component);Ce=function(e,t){var a,n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n=t.types[e.type],a="",r&&(a+=n.preposition),a+=n.article,a+=e.name},ke=function(e){var t,a,n,r;if(r=e[0],e.length>1)if(e.length>2){for(t=0,a=(n=e.slice(1,-1)).length;t<a;t++)r+=", "+n[t];r+=", and "+e[e.length-1]}else r+=" and "+e[1];return r},Ee=function(e){return e.length>0?ke(e):"Nobody"},be=function(e,t){var a,n,r;return a=t.cards,r=function(){var r,s,o;for(o=[],r=0,s=e.length;r<s;r++)n=e[r],o.push(Ce(a[n],t,!1));return o}(),ke(r)},Oe=function(e,t){var a,n,r,s,o,i,l;return s=t.cards,l=t.suggestionOrder,a=function(){var t,a,n;for(n=[],t=0,a=e.length;t<a;t++)i=e[t],s[i].type===l[0]&&n.push(s[i]);return n}()[0],n=function(){var t,a,n;for(n=[],t=0,a=e.length;t<a;t++)i=e[t],s[i].type===l[1]&&n.push(s[i]);return n}()[0],r=function(){var t,a,n;for(n=[],t=0,a=e.length;t<a;t++)i=e[t],s[i].type===l[2]&&n.push(s[i]);return n}()[0],o=Ce(a,t)+" ",o+=Ce(n,t)+" ",o+=Ce(r,t)};var Re,Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).configuration=null,Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"describeSetup",value:function(e){return"Playing ".concat(this.configuration.name," with ").concat(Ee(e.players),".")}},{key:"describeHand",value:function(e){return"".concat(e.player," has ").concat(be(e.cards,this.configuration),".")}},{key:"describeSuggest",value:function(e){return"master"===this.configuration.rules?this.describeSuggestMaster(e):this.describeSuggestClassic(e)}},{key:"describeSuggestMaster",value:function(e){return"".concat(e.suggester," suggested: ").concat(Oe(e.cards,this.configuration),". ").concat(Ee(e.showed)," showed a card.")}},{key:"describeSuggestClassic",value:function(e){var t;return t="".concat(e.suggester," suggested ").concat(Oe(e.cards,this.configuration),"."),e.showed.length>0?(e.showed.length>1&&(t+=" ".concat(Ee(e.showed.slice(0,-1))," did not show a card.")),t+=" ".concat(e.showed[e.showed.length-1]," showed a card.")):t+=" Nobody showed a card.",t}},{key:"describeShow",value:function(e){var t;return t=this.configuration.cards,"".concat(e.player," showed ").concat(Ce(t[e.card],this.configuration,!1),".")}},{key:"describeAccuse",value:function(e){return"".concat(e.accuser," made an accusation: ").concat(Oe(e.cards,this.configuration),". The accusation was ").concat(e.outcome?"":"not ","correct.")}},{key:"describeCommlink",value:function(e){return"".concat(e.caller," asked ").concat(e.receiver," about ").concat(Oe(e.cards,this.configuration),". ").concat(e.subject," ").concat(e.showed?"showed":"did not show"," a card.")}},{key:"describeEntry",value:function(e){return null!=e.setup?this.describeSetup(e.setup):null!=e.hand?this.describeHand(e.hand):null!=e.suggest?this.describeSuggest(e.suggest):null!=e.show?this.describeShow(e.show):null!=e.accuse?this.describeAccuse(e.accuse):null!=e.commlink?this.describeCommlink(e.commlink):alert("Unknown log entry")}},{key:"render",value:function(){var e,t,a,n,r,s,i=this.props;return r=i.open,a=i.log,e=i.configurations,n=i.onClose,this.configuration=null!=a[0]&&null!=a[0].setup?e[a[0].setup.variation]:null,o.a.createElement(F.a,{open:r,fullscreen:"true",disableBackdropClick:!0,onClose:n},o.a.createElement(z.a,{id:"form-dialog-title"},"Log"),o.a.createElement(q.a,null,o.a.createElement("ol",null,function(){var e,n,r;for(r=[],s=e=0,n=a.length;e<n;s=++e)t=a[s],r.push(o.a.createElement("li",{key:s}," ",this.describeEntry(t)," "));return r}.call(this))),o.a.createElement(K.a,null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:n}," Done ")))}}]),t}(s.Component),xe=a(118),He=a.n(xe),Me=a(46),Be=a.n(Me),Le=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};Re=a(293);var Te,_e,Ye,Fe,Ge,Ke,Ve=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).apply(this,arguments))).handleStart=e.handleStart.bind(Object(m.a)(Object(m.a)(e))),e.handleLog=e.handleLog.bind(Object(m.a)(Object(m.a)(e))),e.handleExport=e.handleExport.bind(Object(m.a)(Object(m.a)(e))),e.handleImport=e.handleImport.bind(Object(m.a)(Object(m.a)(e))),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleStart",value:function(){Le(this,t),this.props.app.showNewGameDialog(),this.props.onClose()}},{key:"handleLog",value:function(){Le(this,t),this.props.app.showLog(),this.props.onClose()}},{key:"handleExport",value:function(){Le(this,t),this.props.app.showExportDialog(),this.props.onClose()}},{key:"handleImport",value:function(){Le(this,t),this.props.app.showImportDialog(),this.props.onClose()}},{key:"render",value:function(){var e,t,a,n=this.props;return e=n.anchor,a=n.started,t=n.onClose,o.a.createElement(He.a,{id:"main-menu",anchorEl:e,open:Boolean(e),onClose:t},o.a.createElement(Be.a,{onClick:this.handleStart}," Start New Game "),o.a.createElement(Be.a,{onClick:this.handleImport}," Import Log "),o.a.createElement(Be.a,{disabled:!a,onClick:this.handleLog}," Show Log "),o.a.createElement(Be.a,{disabled:!a,onClick:this.handleExport}," Export Log "),o.a.createElement(Be.a,{disabled:!0}," ",Re," "))}}]),t}(s.Component),qe=a(38),Je=a.n(qe),ze=a(80),Ue=a.n(ze);Ke=function(e){return o.a.createElement(Ue.a,null,e.isAnswer?"star":"check_box")},Ye=function(){return""},_e=function(){return o.a.createElement(Ue.a,{color:"disabled"},"indeterminate_check_box")},Fe=function(e){var t,a;return t=e.card,a=e.player,t.isHeldBy(a)?o.a.createElement(Ke,{isAnswer:"ANSWER"===a}):t.mightBeHeldBy(a)?o.a.createElement(_e,null):o.a.createElement(Ye,null)},Te=function(e){var t,a;return a=e.players,o.a.createElement(Je.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Je.a,{item:!0,xs:4},o.a.createElement("b",null,"Card")),function(){var e;for(t in e=[],a)e.push(o.a.createElement(Je.a,{item:!0,key:t,xs:1},o.a.createElement("b",null,t)));return e}())},Ge=function(e){var t,a,n;return t=e.card,n=e.players,o.a.createElement(Je.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Je.a,{item:!0,xs:4},t.isHeldBy("ANSWER")?o.a.createElement("b",null," ",t.info.name," "):t.info.name),function(){var e;for(a in e=[],n)e.push(o.a.createElement(Je.a,{item:!0,key:a,xs:1},o.a.createElement(Fe,{card:t,player:a})));return e}())};var Qe,Xe,$e,Ze,et,tt=function(e){var t,a,n,r,s=e.solver;return a=s.cards,r=s.players,o.a.createElement(Je.a,{container:!0},o.a.createElement(Te,{players:r}),function(){var e;for(n in e=[],a)t=a[n],e.push(o.a.createElement(Ge,{key:n,card:t,players:r}));return e}())},at=a(78),nt=a.n(at),rt=a(120),st=a.n(rt),ot=a(119),it=a.n(ot),lt=function(e){return o.a.createElement(C.a,{position:"static"},o.a.createElement(it.a,null,o.a.createElement(nt.a,{color:"inherit",onClick:function(t){return e.app.showMainMenu(t.currentTarget)}},o.a.createElement(st.a,null)),o.a.createElement($.a,{variant:"h6",color:"inherit"},"Not A Clue")))},ct=function(e){var t,a,n,r,s,i,l,c;a=e.configurationId,c=e.solver;var h=t=e.app;return s=h.showHandDialog,l=h.showSuggestDialog,i=h.showShowDialog,n=h.showAccuseDialog,r=h.showCommlinkDialog,o.a.createElement("div",{className:"MainView"},o.a.createElement(lt,{app:t}),null!=c?o.a.createElement("div",null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:s}," Hand "),o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:l}," Suggest "),o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:i}," Show "),o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:n}," Accuse "),"star_wars"===a?o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:r},"Commlink"):void 0,o.a.createElement(Q.a,null),o.a.createElement(tt,{solver:c,app:t})):void 0)},ht=a(79),dt=a.n(ht),ut=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},pt=[].indexOf;$e=function(e){var t,a;return o.a.createElement(j.a,{row:!0,name:"variations",value:e.configuration,onChange:e.onChange},function(){var n,r;for(t in r=[],n=e.configurations)a=n[t],r.push(o.a.createElement(O.a,{key:t,value:t,control:o.a.createElement(w.a,null),label:a.name}));return r}())},Ze=function(e){return o.a.createElement(H.a,{component:"fieldset"},o.a.createElement(dt.a,{component:"legend"},o.a.createElement($.a,{variant:"h6"},"Select a variation:")),o.a.createElement($e,{configuration:e.configuration,configurations:e.configurations,onChange:function(t){return e.onChange(t.target.value)}}))},Qe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleKeyDown=a.handleKeyDown.bind(Object(m.a)(Object(m.a)(a))),a.handleAddPlayer=a.handleAddPlayer.bind(Object(m.a)(Object(m.a)(a))),a.state={playerId:""},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){ut(this,t),this.setState({playerId:e.target.value})}},{key:"handleKeyDown",value:function(e){ut(this,t),13===e.keyCode&&this.props.count<this.props.max&&this.handleAddPlayer()}},{key:"handleAddPlayer",value:function(){var e;ut(this,t),""!==this.state.playerId&&("ANSWER"!==this.state.playerId&&(e=this.state.playerId,pt.call(this.props.players,e)<0)?this.props.onAddPlayer(this.state.playerId):this.props.app.showConfirmDialog("Error","A player's name must be unique and it cannot be ANSWER."),this.setState({playerId:""}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Ae.a,{autoFocus:!0,margin:"normal",value:this.state.playerId,onChange:this.handleChange,onKeyDown:this.handleKeyDown}),o.a.createElement(_.a,{disabled:this.props.count>=this.props.max,variant:"contained",color:"primary",onClick:this.handleAddPlayer},"Add"))}}]),t}(s.Component),et=function(e){return o.a.createElement("ol",null,e.names.map(function(e){return o.a.createElement("li",{key:e}," ",e," ")}))},Xe=function(e){var t,a,n,r,s;return s=e.players,a=e.max,t=e.app,n=e.onAddPlayer,r=e.onClearPlayers,o.a.createElement("div",null,o.a.createElement(Qe,{players:s,count:s.length,max:a,app:t,onAddPlayer:n}),o.a.createElement(et,{names:s}),o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:r},"Clear Players"))};var mt,gt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleClose=a.handleClose.bind(Object(m.a)(Object(m.a)(a))),a.handleAddPlayer=a.handleAddPlayer.bind(Object(m.a)(Object(m.a)(a))),a.handleClearPlayers=a.handleClearPlayers.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeConfiguration=a.handleChangeConfiguration.bind(Object(m.a)(Object(m.a)(a))),a.handleDone=a.handleDone.bind(Object(m.a)(Object(m.a)(a))),a.handleCancel=a.handleCancel.bind(Object(m.a)(Object(m.a)(a))),a.state={playerIds:[],configurationId:null},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleClose",value:function(){ut(this,t),this.props.onClose()}},{key:"handleAddPlayer",value:function(e){ut(this,t),this.setState(function(t,a){return{playerIds:t.playerIds.concat([e])}})}},{key:"handleClearPlayers",value:function(){ut(this,t),this.setState({playerIds:[]})}},{key:"handleChangeConfiguration",value:function(e){ut(this,t),this.setState({configurationId:e})}},{key:"handleDone",value:function(){ut(this,t),this.props.app.newGame(this.state.configurationId,this.state.playerIds),this.props.onClose()}},{key:"handleCancel",value:function(){ut(this,t),this.props.onClose()}},{key:"render",value:function(){var e,t,a,n,r,s,i=this.props;return s=i.open,t=i.configurations,e=i.app,r=this.state.playerIds.length,n=this.state.configurationId?t[this.state.configurationId].minPlayers:0,a=this.state.configurationId?t[this.state.configurationId].maxPlayers:0,o.a.createElement(F.a,{open:s,fullscreen:"true",disableBackdropClick:!0,onClose:this.handleClose},o.a.createElement(z.a,{id:"form-dialog-title"},"New Game"),o.a.createElement(q.a,null,o.a.createElement(Ze,{configuration:this.state.configurationId,configurations:t,onChange:this.handleChangeConfiguration}),o.a.createElement(Q.a,null),o.a.createElement($.a,{variant:"h6"},a>0?"Add up to ".concat(a," players:"):"Add players:"),o.a.createElement(Xe,{players:this.state.playerIds,max:a,app:e,onAddPlayer:this.handleAddPlayer,onClearPlayers:this.handleClearPlayers})),o.a.createElement(K.a,null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(_.a,{disabled:null==this.state.configurationId||r<n,variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component);mt=function(e){var t,a,n,r,s,i;return i=e.value,s=e.type,t=e.cards,r=e.onChange,o.a.createElement(j.a,{row:!0,name:"cards",value:i,onChange:r},function(){var e;for(a in e=[],t)(n=t[a]).type===s&&e.push(o.a.createElement(O.a,{key:a,value:a,control:o.a.createElement(w.a,null),label:n.name}));return e}())};var yt,ft=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChangeTab=a.handleChangeTab.bind(Object(m.a)(Object(m.a)(a))),a.state={currentTab:0},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChangeTab",value:function(e,a){!function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t),this.setState({currentTab:a})}},{key:"render",value:function(){var e,t,a,n,r,s,i,l=this,c=this.props;return i=c.value,e=c.cards,s=c.types,n=function(){var e;for(t in e=[],s)e.push(t);return e}(),r=this.state.currentTab>=0&&this.state.currentTab<n.length?this.state.currentTab:0,a=n[r],o.a.createElement("div",null,o.a.createElement(C.a,{position:"static"},o.a.createElement(P.a,{value:r,onChange:this.handleChangeTab},function(){var e,a,r;for(r=[],e=0,a=n.length;e<a;e++)t=n[e],r.push(o.a.createElement(S.a,{key:t,label:s[t].title}));return r}())),o.a.createElement(H.a,{component:"fieldset"},o.a.createElement(mt,{value:i,type:a,cards:e,onChange:function(e){return l.props.onChange(e.target.value)}})))}}]),t}(s.Component),vt=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},bt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleClose=a.handleClose.bind(Object(m.a)(Object(m.a)(a))),a.handleChangePlayer=a.handleChangePlayer.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeCard=a.handleChangeCard.bind(Object(m.a)(Object(m.a)(a))),a.handleCancel=a.handleCancel.bind(Object(m.a)(Object(m.a)(a))),a.handleDone=a.handleDone.bind(Object(m.a)(Object(m.a)(a))),a.state={playerId:null,cardId:null},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"close",value:function(){this.setState({playerId:null,cardId:null}),this.props.onClose()}},{key:"stateIsOk",value:function(){return null!=this.state.playerId&&null!=this.state.cardId}},{key:"handleClose",value:function(){vt(this,t),this.close()}},{key:"handleChangePlayer",value:function(e){vt(this,t),this.setState({playerId:e})}},{key:"handleChangeCard",value:function(e){vt(this,t),this.setState({cardId:e})}},{key:"handleCancel",value:function(){vt(this,t),this.close()}},{key:"handleDone",value:function(){vt(this,t),this.stateIsOk()?(this.props.app.recordShown(this.state.playerId,this.state.cardId),this.close()):this.props.app.showConfirmDialog("Error","You must select a player and a card")}},{key:"render",value:function(){var e,t,a,n=this.props;return t=n.open,a=n.players,e=n.configuration,o.a.createElement(F.a,{open:t,fullscreen:"true",disableBackdropClick:!0,onClose:this.handleClose},o.a.createElement(z.a,{id:"form-dialog-title"},"Record A Shown Card"),o.a.createElement(q.a,null,o.a.createElement($.a,{variant:"h4"},"Who showed the card?"),o.a.createElement(L,{value:this.state.playerId,players:a,onChange:this.handleChangePlayer}),o.a.createElement(Q.a,null),o.a.createElement($.a,{variant:"h4"},"What card did they show?"),o.a.createElement(ft,{value:this.state.cardId,cards:e.cards,types:e.types,onChange:this.handleChangeCard})),o.a.createElement(K.a,null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(_.a,{disabled:!this.stateIsOk(),variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component),Ct=[].indexOf,Et=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).apply(this,arguments))).makeChangeHandler=e.makeChangeHandler.bind(Object(m.a)(Object(m.a)(e))),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"makeChangeHandler",value:function(e){var a=this;return function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t),function(t){return a.props.onChange(e,t.target.checked)}}},{key:"render",value:function(){var e,t,a,n,r=this.props;return n=r.value,a=r.players,e=r.excluded,o.a.createElement(ye.a,{row:!0},function(){var r,s,i;for(i=[],r=0,s=a.length;r<s;r++)t=a[r],i.push(o.a.createElement(O.a,{key:t,value:t,control:o.a.createElement(me.a,{checked:Ct.call(n,t)>=0,disabled:null!=e&&Ct.call(e,t)>=0,onChange:this.makeChangeHandler(t),value:t}),label:t}));return i}.call(this))}}]),t}(s.Component),Ot=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},kt=[].indexOf,wt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleClose=a.handleClose.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeSuggesterId=a.handleChangeSuggesterId.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeCards=a.handleChangeCards.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeShowedIdsMaster=a.handleChangeShowedIdsMaster.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeShowedIdsClassic=a.handleChangeShowedIdsClassic.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeDidNotShowIdsClassic=a.handleChangeDidNotShowIdsClassic.bind(Object(m.a)(Object(m.a)(a))),a.handleDoneMaster=a.handleDoneMaster.bind(Object(m.a)(Object(m.a)(a))),a.handleDoneClassic=a.handleDoneClassic.bind(Object(m.a)(Object(m.a)(a))),a.handleDone=a.handleDone.bind(Object(m.a)(Object(m.a)(a))),a.handleCancel=a.handleCancel.bind(Object(m.a)(Object(m.a)(a))),a.state={suggesterId:null,cardIds:{},showedIds:[],didNotShowIds:[]},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"close",value:function(){this.setState({suggesterId:null,cardIds:{},showedIds:[],didNotShowIds:[]}),this.props.onClose()}},{key:"stateIsOkMaster",value:function(){var e,t;return e=function(){var e;for(t in e=[],this.state.cardIds)e.push(t);return e}.call(this).length,null!=this.state.suggesterId&&3===e&&this.state.showedIds.length<=3}},{key:"stateIsOkClassic",value:function(){var e,t;return e=function(){var e;for(t in e=[],this.state.cardIds)e.push(t);return e}.call(this).length,null!=this.state.suggesterId&&3===e}},{key:"stateIsOk",value:function(){return"master"===this.props.configuration.rulesId?this.stateIsOkMaster():this.stateIsOkClassic()}},{key:"handleClose",value:function(){Ot(this,t),this.close()}},{key:"handleChangeSuggesterId",value:function(e){Ot(this,t),this.setState({suggesterId:e})}},{key:"handleChangeCards",value:function(e,a){Ot(this,t),this.setState(function(t,n){var r;return(r=Object.assign({},t.cardIds))[e]=a,{cardIds:r}})}},{key:"handleChangeShowedIdsMaster",value:function(e,a){Ot(this,t),a?this.setState(function(t,a){return kt.call(t.showedIds,e)<0?{showedIds:t.showedIds.concat([e])}:null}):this.setState(function(t,a){var n;return kt.call(t.showedIds,e)>=0?{showedIds:function(){var a,r,s,o;for(o=[],a=0,r=(s=t.showedIds).length;a<r;a++)(n=s[a])!==e&&o.push(n);return o}()}:null})}},{key:"handleChangeShowedIdsClassic",value:function(e){Ot(this,t),this.setState({showedIds:[e]})}},{key:"handleChangeDidNotShowIdsClassic",value:function(e,a){Ot(this,t),a?this.setState(function(t,a){return kt.call(t.didNotShowIds,e)<0?{didNotShowIds:t.didNotShowIds.concat([e])}:null}):this.setState(function(t,a){var n;return kt.call(t.didNotShowIds,e)>=0?{didNotShowIds:function(){var a,r,s,o;for(o=[],a=0,r=(s=t.didNotShowIds).length;a<r;a++)(n=s[a])!==e&&o.push(n);return o}()}:null})}},{key:"handleDoneMaster",value:function(){var e,a,n,r=this;Ot(this,t),this.stateIsOkMaster()?(a=function(){var t,a;for(n in a=[],t=this.state.cardIds)e=t[n],a.push(e);return a}.call(this),0!==this.state.showedIds.length?(this.props.app.recordSuggestion(this.state.suggesterId,a,this.state.showedIds),this.close()):this.props.app.showConfirmDialog("Please confirm","Are you sure that nobody showed any cards?",function(){return r.props.app.recordSuggestion(r.state.suggesterId,a,r.state.showedIds),r.close()},function(){return{}})):this.props.app.showConfirmDialog("Error","You must select a suggester, 3 cards, and up to 3 players who showed cards.")}},{key:"handleDoneClassic",value:function(){var e,a,n,r=this;Ot(this,t),this.stateIsOkClassic()?(a=function(){var t,a;for(n in a=[],t=this.state.cardIds)e=t[n],a.push(e);return a}.call(this),null!=this.state.showedIds[0]?(this.props.app.recordSuggestion(this.state.suggesterId,a,this.state.didNotShowIds.concat(this.state.showedIds)),this.close()):this.props.app.showConfirmDialog("Please confirm","Are you sure that nobody showed a card?",function(){return r.props.app.recordSuggestion(r.state.suggesterId,a,[]),r.close()},function(){return{}})):this.props.app.showConfirmDialog("Error","You must select a suggester, 3 cards, and up to 3 players who showed cards.")}},{key:"handleDone",value:function(){Ot(this,t),"master"===this.props.configuration.rulesId?this.handleDoneMaster():this.handleDoneClassic()}},{key:"handleCancel",value:function(){Ot(this,t),this.close()}},{key:"render",value:function(){var e,t,a,n=this.props;return t=n.open,a=n.players,e=n.configuration,o.a.createElement(F.a,{open:t,fullscreen:"true",disableBackdropClick:!0,onClose:this.handleClose},o.a.createElement(z.a,{id:"form-dialog-title"},"Record A Suggestion"),o.a.createElement(q.a,null,o.a.createElement($.a,{variant:"h4"}," Who made the suggestion? "),o.a.createElement(L,{value:this.state.suggesterId,players:a,onChange:this.handleChangeSuggesterId}),o.a.createElement(Q.a,null),o.a.createElement($.a,{variant:"h4"}," What cards were suggested? "),o.a.createElement(N,{value:this.state.cardIds,cards:e.cards,types:e.types,onChange:this.handleChangeCards}),o.a.createElement(Q.a,null),"master"===e.rulesId?o.a.createElement("div",null,o.a.createElement($.a,{variant:"h4"}," Who showed a card? "),o.a.createElement(Et,{value:this.state.showedIds,players:a,excluded:null!==this.state.suggesterId?[this.state.suggesterId]:[],onChange:this.handleChangeShowedIdsMaster})):o.a.createElement("div",null,o.a.createElement($.a,{variant:"h4"}," Who did not have a card? "),o.a.createElement(Et,{value:this.state.didNotShowIds,players:a,excluded:null!==this.state.suggesterId?this.state.showedIds.concat([this.state.suggesterId]):[],onChange:this.handleChangeDidNotShowIdsClassic}),o.a.createElement($.a,{variant:"h4"}," Who showed a card? "),o.a.createElement(L,{value:this.state.showedIds[0],players:a,excluded:null!==this.state.suggesterId?this.state.didNotShowIds.concat([this.state.suggesterId]):[],onChange:this.handleChangeShowedIdsClassic}))),o.a.createElement(K.a,null,o.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.handleCancel}," Cancel "),o.a.createElement(_.a,{disabled:!this.stateIsOk(),variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component),It=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};yt={classic:{name:"Classic",rulesId:"classic",minPlayers:3,maxPlayers:6,types:{suspect:{title:"Suspects",preposition:"",article:""},weapon:{title:"Weapons",preposition:"with ",article:"the "},room:{title:"Rooms",preposition:"in ",article:"the "}},cards:{mustard:{name:"Colonel Mustard",type:"suspect"},white:{name:"Mrs. White",type:"suspect"},plum:{name:"Professor Plum",type:"suspect"},peacock:{name:"Mrs. Peacock",type:"suspect"},green:{name:"Mr. Green",type:"suspect"},scarlet:{name:"Miss Scarlet",type:"suspect"},revolver:{name:"Revolver",type:"weapon"},knife:{name:"Knife",type:"weapon"},rope:{name:"Rope",type:"weapon"},pipe:{name:"Lead pipe",type:"weapon"},wrench:{name:"Wrench",type:"weapon"},candlestick:{name:"Candlestick",type:"weapon"},dining:{name:"Dining Room",type:"room"},conservatory:{name:"Conservatory",type:"room"},kitchen:{name:"Kitchen",type:"room"},study:{name:"Study",type:"room"},library:{name:"Library",type:"room"},billiard:{name:"Billiards Room",type:"room"},lounge:{name:"Lounge",type:"room"},ballroom:{name:"Ballroom",type:"room"},hall:{name:"Hall",type:"room"}},suggestionOrder:["suspect","weapon","room"]},master_detective:{name:"Master Detective",rulesId:"master",minPlayers:3,maxPlayers:10,types:{suspect:{title:"Suspects",preposition:"",article:""},weapon:{title:"Weapons",preposition:"with ",article:"the "},room:{title:"Rooms",preposition:"in ",article:"the "}},cards:{mustard:{name:"Colonel Mustard",type:"suspect"},white:{name:"Mrs. White",type:"suspect"},plum:{name:"Professor Plum",type:"suspect"},peacock:{name:"Mrs. Peacock",type:"suspect"},green:{name:"Mr. Green",type:"suspect"},scarlet:{name:"Miss Scarlet",type:"suspect"},rose:{name:"Madame Rose",type:"suspect"},gray:{name:"Sergeant Gray",type:"suspect"},brunette:{name:"Monsieur Brunette",type:"suspect"},peach:{name:"Miss Peach",type:"suspect"},revolver:{name:"Revolver",type:"weapon"},knife:{name:"Knife",type:"weapon"},rope:{name:"Rope",type:"weapon"},pipe:{name:"Pipe",type:"weapon"},wrench:{name:"Wrench",type:"weapon"},candlestick:{name:"Candlestick",type:"weapon"},poison:{name:"Poison",type:"weapon"},horseshoe:{name:"Horseshoe",type:"weapon"},dining:{name:"Dining Room",type:"room"},conservatory:{name:"Conservatory",type:"room"},kitchen:{name:"Kitchen",type:"room"},studio:{name:"Studio",type:"room"},library:{name:"Library",type:"room"},billiard:{name:"Billiard Room",type:"room"},courtyard:{name:"Courtyard",type:"room"},gazebo:{name:"Gazebo",type:"room"},drawing:{name:"Drawing Room",type:"room"},carriage:{name:"Carriage House",type:"room"},trophy:{name:"Trophy Room",type:"room"},fountain:{name:"Fountain",type:"room"}},suggestionOrder:["suspect","weapon","room"]},haunted_mansion:{name:"Haunted Mansion",rulesId:"classic",minPlayers:3,maxPlayers:6,types:{guest:{title:"Guests",preposition:"haunted ",article:""},ghost:{title:"Ghosts",preposition:"",article:"the "},room:{title:"Rooms",preposition:"in ",article:"the "}},cards:{pluto:{name:"Pluto",type:"guest"},daisy:{name:"Daisy Duck",type:"guest"},goofy:{name:"Goofy",type:"guest"},donald:{name:"Donald Duck",type:"guest"},minnie:{name:"Minnie Mouse",type:"guest"},mickey:{name:"Mickey Mouse",type:"guest"},prisoner:{name:"Prisoner",type:"ghost"},singer:{name:"Opera Singer",type:"ghost"},bride:{name:"Bride",type:"ghost"},traveler:{name:"Traveler",type:"ghost"},mariner:{name:"Mariner",type:"ghost"},skeleton:{name:"Candlestick",type:"ghost"},graveyard:{name:"Graveyard",type:"room"},seance:{name:"Seance Room",type:"room"},ballroom:{name:"Ballroom",type:"room"},attic:{name:"Attic",type:"room"},mausoleum:{name:"Mausoleum",type:"room"},conservatory:{name:"Conservatory",type:"room"},library:{name:"Library",type:"room"},foyer:{name:"Foyer",type:"room"},chamber:{name:"Portrait Chamber",type:"room"}},suggestionOrder:["ghost","guest","room"]},star_wars:{name:"Clue: Star Wars Edition",rulesId:"star_wars",minPlayers:3,maxPlayers:6,types:{planet:{title:"Planets",preposition:"Darth Vader is targeting ",article:""},room:{title:"Rooms",preposition:", the plans are in ",article:"the "},ship:{title:"Ships",preposition:", and we can escape in ",article:"a "}},cards:{alderaan:{name:"Alderaan",type:"planet"},bespin:{name:"Bespin",type:"planet"},dagobah:{name:"Dagobah",type:"planet"},endor:{name:"Endor",type:"planet"},tattoine:{name:"Tatooine",type:"planet"},yavin:{name:"Yavin 4",type:"planet"},millenium:{name:"Millenium Falcon",type:"ship"},xwing:{name:"X-Wing",type:"ship"},ywing:{name:"Y-Wing",type:"ship"},tiefighter:{name:"Tie Fighter",type:"ship"},pod:{name:"Escape Pod",type:"ship"},tiebomber:{name:"Tie Bomber",type:"ship"},laser:{name:"Laser Control Room",type:"room"},overbridge:{name:"Overbridge",type:"room"},docking:{name:"Docking Bay",type:"room"},red:{name:"Red Control Room",type:"room"},war:{name:"War Room",type:"room"},detention:{name:"Detention Block",type:"room"},throne:{name:"Throne Room",type:"room"},trash:{name:"Trash Compactor",type:"room"},tractor:{name:"Tractor Beam Generator",type:"room"}},suggestionOrder:["planet","room","ship"]}};var jt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).showMainMenu=a.showMainMenu.bind(Object(m.a)(Object(m.a)(a))),a.showNewGameDialog=a.showNewGameDialog.bind(Object(m.a)(Object(m.a)(a))),a.showImportDialog=a.showImportDialog.bind(Object(m.a)(Object(m.a)(a))),a.showLog=a.showLog.bind(Object(m.a)(Object(m.a)(a))),a.showExportDialog=a.showExportDialog.bind(Object(m.a)(Object(m.a)(a))),a.showConfirmDialog=a.showConfirmDialog.bind(Object(m.a)(Object(m.a)(a))),a.showHandDialog=a.showHandDialog.bind(Object(m.a)(Object(m.a)(a))),a.showSuggestDialog=a.showSuggestDialog.bind(Object(m.a)(Object(m.a)(a))),a.showShowDialog=a.showShowDialog.bind(Object(m.a)(Object(m.a)(a))),a.showAccuseDialog=a.showAccuseDialog.bind(Object(m.a)(Object(m.a)(a))),a.showCommlinkDialog=a.showCommlinkDialog.bind(Object(m.a)(Object(m.a)(a))),a.handleConfirmDialogClose=a.handleConfirmDialogClose.bind(Object(m.a)(Object(m.a)(a))),a.solver=null,a.accusationId=1,a.commlinkId=1,a.suggestionId=1,a.state={playerIds:[],configurationId:"master_detective",log:[],mainMenuAnchor:null,newGameDialogOpen:!1,logDialogOpen:!1,confirmDialog:{open:!1,title:"",question:"",yesAction:null,noAction:null},handDialogOpen:!1,suggestDialogOpen:!1,showDialogOpen:!1,accuseDialogOpen:!1},Object(d.a)(a)}return Object(p.a)(t,e),Object(h.a)(t,[{key:"newGame",value:function(e,t){this.solver=new v(yt[e],t),this.accusationId=1,this.suggestionId=1,this.setState({playerIds:t,configurationId:e,log:[this.setupLogEntry(e,t)]})}},{key:"importLog",value:function(e){var t,a,n,r,s,o,i,l,c,h,d,u,p,m,g;if(0!==(i=JSON.parse(e)).length)for(p=i[0].setup,this.newGame(p.variation,p.players),o=0,l=(u=i.slice(1)).length;o<l;o++)if(null!=(s=u[o]).hand){var y=s.hand;h=y.player,r=y.cards,this.recordHand(h,r)}else if(null!=s.suggest){var f=s.suggest;g=f.suggester,r=f.cards,m=f.showed,this.recordSuggestion(g,r,m)}else if(null!=s.show){var v=s.show;h=v.player,n=v.card,this.recordShow(h,n)}else if(null!=s.accuse){var b=s.accuse;t=b.accuser,r=b.cards,c=b.outcome,this.recordAccusation(t,r,c)}else if(null!=s.commlink&&"star_wars"===p.variation){var C=s.commlink;a=C.caller,d=C.receiver,r=C.cards,m=C.showed,this.recordCommlink(a,d,r,m)}else console.log("Imported unsupported log entry: ".concat(JSON.stringify(s)));else this.solver=null}},{key:"setupLogEntry",value:function(e,t){return{setup:{variation:e,players:t}}}},{key:"showMainMenu",value:function(e){It(this,t),this.setState({mainMenuAnchor:e})}},{key:"showNewGameDialog",value:function(){It(this,t),this.setState({newGameDialogOpen:!0})}},{key:"showImportDialog",value:function(){It(this,t),this.setState({importDialogOpen:!0})}},{key:"showLog",value:function(){It(this,t),this.setState({logDialogOpen:!0})}},{key:"showExportDialog",value:function(){It(this,t),this.setState({exportDialogOpen:!0})}},{key:"showConfirmDialog",value:function(e,a,n,r){It(this,t),this.setState({confirmDialog:{open:!0,title:e,question:a,yesAction:n,noAction:r}})}},{key:"showHandDialog",value:function(){It(this,t),this.setState({handDialogOpen:!0})}},{key:"showSuggestDialog",value:function(){It(this,t),this.setState({suggestDialogOpen:!0})}},{key:"showShowDialog",value:function(){It(this,t),this.setState({showDialogOpen:!0})}},{key:"showAccuseDialog",value:function(){It(this,t),this.setState({accuseDialogOpen:!0})}},{key:"showCommlinkDialog",value:function(){It(this,t),this.setState({commlinkDialogOpen:!0})}},{key:"recordHand",value:function(e,t){null!=this.solver&&(this.solver.hand(e,t),this.logHandEntry(e,t))}},{key:"logHandEntry",value:function(e,t){this.setState(function(a,n){return{log:a.log.concat([{hand:{player:e,cards:t}}])}})}},{key:"recordSuggestion",value:function(e,t,a){var n;null!=this.solver&&(n=this.suggestionId++,this.solver.suggest(e,t,a,n),this.logSuggestEntry(e,t,a,n))}},{key:"logSuggestEntry",value:function(e,t,a,n){this.setState(function(r,s){return{log:r.log.concat([{suggest:{id:n,suggester:e,cards:t,showed:a}}])}})}},{key:"recordShown",value:function(e,t){null!=this.solver&&(this.solver.show(e,t),this.logShowEntry(e,t))}},{key:"logShowEntry",value:function(e,t){this.setState(function(a,n){return{log:a.log.concat([{show:{player:e,card:t}}])}})}},{key:"recordAccusation",value:function(e,t,a){var n;null!=this.solver&&(n=this.accusationId++,this.solver.accuse(e,t,a,n),this.logAccuseEntry(e,t,a,n))}},{key:"logAccuseEntry",value:function(e,t,a,n){this.setState(function(r,s){return{log:r.log.concat([{accuse:{id:n,accuser:e,cards:t,outcome:a}}])}})}},{key:"recordCommlink",value:function(e,t,a,n){var r;null!=this.solver&&(r=this.commlinkId++,this.solver.commlink(e,t,a,n,r),this.logCommlinkEntry(e,t,a,n,r))}},{key:"logCommlinkEntry",value:function(e,t,a,n,r){this.setState(function(s,o){return{log:s.log.concat([{commlink:{id:r,caller:e,receiver:t,cards:a,showed:n}}])}})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(ct,{configurationId:this.state.configurationId,solver:this.solver,app:this}),o.a.createElement(Ve,{anchor:this.state.mainMenuAnchor,started:null!=this.solver,onClose:function(){return e.setState({mainMenuAnchor:null})},app:this}),o.a.createElement(gt,{open:this.state.newGameDialogOpen,configurations:yt,onClose:function(){return e.setState({newGameDialogOpen:!1})},app:this}),o.a.createElement(We,{open:this.state.importDialogOpen,configurations:yt,onClose:function(){return e.setState({importDialogOpen:!1})},app:this}),o.a.createElement(Ne,{open:this.state.logDialogOpen,log:this.state.log,configurations:yt,onClose:function(){return e.setState({logDialogOpen:!1})},app:this}),o.a.createElement(ue,{open:this.state.exportDialogOpen,log:this.state.log,onClose:function(){return e.setState({exportDialogOpen:!1})},app:this}),o.a.createElement(ce,{open:this.state.confirmDialog.open,title:this.state.confirmDialog.title,question:this.state.confirmDialog.question,yesAction:this.state.confirmDialog.yesAction,noAction:this.state.confirmDialog.noAction,onClose:this.handleConfirmDialogClose,app:this}),o.a.createElement(De,{open:this.state.handDialogOpen,configuration:yt[this.state.configurationId],players:this.state.playerIds,onClose:function(){return e.setState({handDialogOpen:!1})},app:this}),o.a.createElement(wt,{open:this.state.suggestDialogOpen,configuration:yt[this.state.configurationId],players:this.state.playerIds,onClose:function(){return e.setState({suggestDialogOpen:!1})},app:this}),o.a.createElement(bt,{open:this.state.showDialogOpen,configuration:yt[this.state.configurationId],players:this.state.playerIds,onClose:function(){return e.setState({showDialogOpen:!1})},app:this}),o.a.createElement(ee,{open:this.state.accuseDialogOpen,configuration:yt[this.state.configurationId],players:this.state.playerIds,onClose:function(){return e.setState({accuseDialogOpen:!1})},app:this}),o.a.createElement(se,{open:this.state.commlinkDialogOpen,configuration:yt[this.state.configurationId],players:this.state.playerIds,onClose:function(){return e.setState({commlinkDialogOpen:!1})},app:this}))}},{key:"handleConfirmDialogClose",value:function(){It(this,t),this.setState({confirmDialog:{open:!1,title:"",question:"",yesAction:null,noAction:null}})}}]),t}(s.Component),Dt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function St(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(jt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");Dt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):St(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):St(e)})}}()}},[[121,2,1]]]);
//# sourceMappingURL=main.68fba923.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(307)},126:function(e,t,a){},307:function(e,t,a){"use strict";a.r(t);var n,r,s=a(0),o=a.n(s),i=a(30),l=a.n(i),c=(a(126),a(9)),h=a(10),u=a(13),d=a(11),p=a(12),g=a(1),m=[].indexOf;n=function(){function e(t,a){Object(c.a)(this,e),this.holders=t,this.info=a}return Object(h.a)(e,[{key:"remove",value:function(e){return this.holders=this.holders.filter(function(t){return t!==e})}},{key:"mightBeHeldBy",value:function(e){return m.call(this.holders,e)>=0}},{key:"isHeldBy",value:function(e){return 1===this.holders.length&&this.holders[0]===e}}]),e}(),r=function(){function e(t){Object(c.a)(this,e),this.potential=t}return Object(h.a)(e,[{key:"remove",value:function(e){return this.potential=this.potential.filter(function(t){return t!==e})}},{key:"doesNotHold",value:function(e){return m.call(this.potential,e)<0}},{key:"mightHold",value:function(e){return m.call(this.potential,e)>=0}}]),e}();var y,f,v=function(){function e(t,a){var s,o,i,l,h,u,d,p;for(o in Object(c.a)(this,e),this.ANSWER_PLAYER_ID="ANSWER",this.rulesId=t.rulesId,this.types=t.types,this.cards={},this.players={},this.discoveriesLog=[],this.suggestions=[],this.accusations=[],this.facts=[],s=function(){var e,a;for(o in a=[],e=t.cards)i=e[o],a.push(o);return a}(),d=a.concat(this.ANSWER_PLAYER_ID),p=t.cards)i=p[o],this.cards[o]=new n(d,i);for(l=0,h=d.length;l<h;l++)u=d[l],this.players[u]=new r(s);this.ANSWER=this.players[this.ANSWER_PLAYER_ID]}return Object(h.a)(e,[{key:"accuse",value:function(e,t,a){var n,r;return this.discoveriesLog=[],n={playerId:e,cardIds:t,outcome:a},this.accusations.push(n),r=!1,r=this.deduceFromAccusation(n,r),r=this.makeOtherDeductions(r)}},{key:"hand",value:function(e,t){var a;return this.discoveriesLog=[],a=!1,a=this.deduceFromHand(e,t,a),a=this.makeOtherDeductions(a)}},{key:"show",value:function(e,t){var a;return this.discoveriesLog=[],a=!1,a=this.deduceFromShow(e,t,a),a=this.makeOtherDeductions(a)}},{key:"suggest",value:function(e,t,a,n){var r,s;return this.discoveriesLog=[],s={id:n,playerId:e,cardIds:t,showedIds:a},this.suggestions.push(s),r=!1,r=this.deduceFromSuggestion(s,r),r=this.makeOtherDeductions(r)}},{key:"playerMustHoldOne",value:function(e,t){var a,n,r,s,o,i;for(i=this.players[e],a=0,n=null,s=0,o=t.length;s<o;s++)if(r=t[s],i.mightHold(r)){if(++a>1)return null;n=r}return n}},{key:"playerMustNotHoldOne",value:function(e,t){var a,n,r,s,o;for(a=0,o=null,r=0,s=t.length;r<s;r++)if(n=t[r],!this.cards[n].isHeldBy(e)){if(++a>1)return null;o=n}return o}},{key:"cardsThatMightBeHeldBy",value:function(e){return this.players[e].potential}},{key:"whoMightHold",value:function(e){return this.cards[e].holders}},{key:"playersAreValid",value:function(e){var t,a,n;for(a=0,n=e.length;a<n;a++)if(t=e[a],!this.playerIsValid(t))return!1;return!0}},{key:"playerIsValid",value:function(e){return e!==this.ANSWER_PLAYER_ID&&e in this.players}},{key:"cardsAreValid",value:function(e){var t,a,n;for(a=0,n=e.length;a<n;a++)if(t=e[a],!this.cardIsValid(t))return!1;return!0}},{key:"cardIsValid",value:function(e){return e in this.cards}},{key:"typeIsValid",value:function(e){return m.call(this.types,e)>=0}},{key:"deduceFromAccusation",value:function(e,t){var a,n,r,s,o,i,l;if(l=e.playerId,n=e.cardIds,i=e.outcome,this.addDiscoveries(l,n,!1,"made an accusation with these cards"),t=this.disassociatePlayerWithCards(l,n,t),i)for(r=0,s=n.length;r<s;r++)a=n[r],t=this.associatePlayerWithCard(this.ANSWER_PLAYER_ID,a,t);else null!==(o=this.playerMustNotHoldOne(this.ANSWER_PLAYER_ID,n))&&(this.addDiscovery(this.ANSWER_PLAYER_ID,o,!1,"the accusation was wrong but the answer holds the others"),t=this.disassociatePlayerWithCard(this.ANSWER_PLAYER_ID,o,t));return t}},{key:"deduceFromSuggestion",value:function(e,t){return"master"===this.rulesId?this.deduceFromSuggestionWithMasterRules(e,t):this.deduceFromSuggestionWithClassicRules(e,t)}},{key:"deduceFromHand",value:function(e,t,a){var n;for(n in this.cards)m.call(t,n)>=0?(this.addDiscovery(e,n,!0,"hand"),a=this.associatePlayerWithCard(e,n,a)):(this.addDiscovery(e,n,!1,"hand"),a=this.disassociatePlayerWithCard(e,n,a));return a}},{key:"deduceFromShow",value:function(e,t,a){return this.addDiscovery(e,t,!0,"revealed"),a=this.associatePlayerWithCard(e,t,a)}},{key:"deduceFromSuggestionWithClassicRules",value:function(e,t){var a,n,r,s,o,i,l,c,h;if(r=e.id,h=e.playerId,a=e.cardIds,null===(c=e.showedIds)||0===c.length)for(i in this.players)i!==this.ANSWER_PLAYER_ID&&i!==h&&(this.addDiscoveries(i,a,!1,"did not show a card in suggestion #"+r),t=this.disassociatePlayerWithCards(i,a,t));else{for(n=s=0,l=c.length-1;0<=l?s<l:s>l;n=0<=l?++s:--s)i=c[n],this.addDiscoveries(i,a,!1,"did not show a card in suggestion #"+r),t=this.disassociatePlayerWithCards(i,a,t);i=c[c.length-1],null!==(o=this.playerMustHoldOne(i,a))&&(this.addDiscovery(i,o,!0,"showed a card in suggestion #"+r+", and does not hold the others"),t=this.associatePlayerWithCard(i,o,t))}return t}},{key:"deduceFromSuggestionWithMasterRules",value:function(e,t){var a,n,r,s,o,i;for(s in n=e.id,i=e.playerId,a=e.cardIds,o=e.showedIds,this.players)m.call(o,s)>=0?null!==(r=this.playerMustHoldOne(s,a))&&(this.addDiscovery(s,r,!0,"showed a card in suggestion #"+n+", and does not hold the others"),t=this.associatePlayerWithCard(s,r,t)):s!==this.ANSWER_PLAYER_ID&&s!==i?(this.addDiscoveries(s,a,!1,"did not show a card in suggestion #"+n),this.disassociatePlayerWithCards(s,e.cardIds,t)):3===o.length&&(this.addDiscoveries(s,a,!1,"all three cards were shown by other players in suggestion #"+n),t=this.disassociatePlayerWithCards(s,a,t));return t}},{key:"makeOtherDeductions",value:function(e){var t,a,n,r,s,o,i,l;for(this.addCardHoldersToDiscoveries(),e=this.checkThatAnswerHoldsExactlyOneOfEach(e);e;){for(e=!1,a=0,r=(o=this.suggestions).length;a<r;a++)l=o[a],e=this.deduceFromSuggestion(l,e);for(n=0,s=(i=this.accusations).length;n<s;n++)t=i[n],e=this.deduceFromAccusation(t,e);this.addCardHoldersToDiscoveries(),e=this.checkThatAnswerHoldsExactlyOneOfEach(e)}return this.addCardHoldersToDiscoveries(),e}},{key:"checkThatAnswerHoldsExactlyOneOfEach",value:function(e){var t,a,n,r,s,o,i,l,c,h,u,d,p,g,m,y,f;for(n={},i=0,h=(m=this.players[this.ANSWER_PLAYER_ID].potential).length;i<h;i++)a=m[i],(t=this.cards[a]).isHeldBy(this.ANSWER_PLAYER_ID)&&(n[t.info.type]=a);for(l=0,u=(g=this.ANSWER.potential.slice(0)).length;l<u;l++)for(s in a=g[l],t=this.cards[a],n)r=n[s],t.info.type===s&&a!==r&&(this.addDiscovery(this.ANSWER_PLAYER_ID,a,!1,"ANSWER can only hold one "+s),e=this.disassociatePlayerWithCard(this.ANSWER_PLAYER_ID,a,e));for(p={},c=0,d=(y=this.ANSWER.potential).length;c<d;c++)a=y[c],(t=this.cards[a]).isHeldBy(this.ANSWER_PLAYER_ID)||(null!=p[f=t.info.type]?p[f].only=!1:p[f]={cardId:a,only:!0});for(f in p)(o=p[f]).only&&(this.addDiscovery(this.ANSWER_PLAYER_ID,o.cardId,!0,"Only "+f+" that ANSWER can hold"),e=this.associatePlayerWithCard(this.ANSWER_PLAYER_ID,o.cardId,e));return e}},{key:"associatePlayerWithCard",value:function(e,t,a){return 1===this.cards[t].holders.length?a:this.disassociateOtherPlayersWithCard(e,t,a)}},{key:"disassociatePlayerWithCard",value:function(e,t,a){var n;return(n=this.players[e]).mightHold(t)&&(n.remove(t),this.cards[t].remove(e),a=!0,this.addDiscovery(e,t,!1)),a}},{key:"disassociatePlayerWithCards",value:function(e,t,a){var n,r,s;for(r=0,s=t.length;r<s;r++)n=t[r],a=this.disassociatePlayerWithCard(e,n,a);return a}},{key:"disassociateOtherPlayersWithCard",value:function(e,t,a){var n;for(n in this.players)n!==e&&(a=this.disassociatePlayerWithCard(n,t,a));return a}},{key:"cardIsType",value:function(e,t){return this.cards[e].info.type===t}},{key:"addDiscovery",value:function(e,t,a,n){var r,s,o,i,l,c,h;for(l=0,c=(h=this.facts).length;l<c;l++)if((o=h[l]).playerId===e&&o.cardId===t)return;if(i={playerId:e,cardId:t,holds:a},this.facts.push(i),null!=n)return r=this.cards[t].info,s=e+(a?" holds ":" does not hold ")+this.types[r.type].article+r.name+": "+n,this.discoveriesLog.push(s)}},{key:"addDiscoveries",value:function(e,t,a){var n,r,s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(r=0,s=t.length;r<s;r++)n=t[r],this.addDiscovery(e,n,a,o)}},{key:"addCardHoldersToDiscoveries",value:function(){var e,t,a,n;for(e in n=[],a=this.cards)1===(t=a[e].holders).length?n.push(this.addDiscovery(t[0],e,!0,"nobody else holds it")):n.push(void 0);return n}}]),e}(),b=a(37),C=a.n(b),E=a(77),O=a.n(E),w=a(117),k=a.n(w),I=a(116),j=a.n(I),S=a(20),D=a.n(S),A=function(e){return o.a.createElement(C.a,{position:"static"},o.a.createElement(j.a,null,o.a.createElement(O.a,{color:"inherit",onClick:function(t){return e.app.showMainMenu(t.currentTarget)}},o.a.createElement(k.a,null)),o.a.createElement(D.a,{variant:"h6",color:"inherit"},"Not A Clue")))},P=a(23),W=a.n(P),R=a(31),N=a.n(R),H=a(32),M=a.n(H),L=a(45),T=a.n(L),_=a(44),x=a.n(_),B=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};f=function(e){var t,a,n,r,s;return a=e.selected,t=e.cards,r=e.types,o.a.createElement("ul",null,function(){var e;for(n in e=[],r)s=r[n],e.push(o.a.createElement("li",{key:n},o.a.createElement("b",null,s.title),": ",null!=a[n]?t[a[n]].name:void 0));return e}())},y=function(e){var t,a,n,r,s,i;return i=e.value,s=e.type,t=e.cards,r=e.onChange,o.a.createElement(M.a,{row:!0,name:"cards",value:i,onChange:r},function(){var e;for(a in e=[],t)(n=t[a]).type===s&&e.push(o.a.createElement(W.a,{key:a,value:a,control:o.a.createElement(N.a,null),label:n.name}));return e}())};var Y,G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChangeTab=a.handleChangeTab.bind(Object(g.a)(Object(g.a)(a))),a.makeChangeEventHandler=a.makeChangeEventHandler.bind(Object(g.a)(Object(g.a)(a))),a.state={currentTab:0},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChangeTab",value:function(e,a){return B(this,t),this.setState({currentTab:a})}},{key:"makeChangeEventHandler",value:function(e){var a=this;return B(this,t),function(t){return a.props.onChange(e,t.target.value)}}},{key:"render",value:function(){var e,t,a,n,r,s,i,l=this.props;return i=l.value,e=l.cards,s=l.types,n=function(){var e;for(t in e=[],s)e.push(t);return e}(),r=this.state.currentTab>=0&&this.state.currentTab<n.length?this.state.currentTab:0,a=n[r],o.a.createElement("div",null,o.a.createElement(C.a,{position:"static"},o.a.createElement(x.a,{value:r,onChange:this.handleChangeTab},function(){var e,a,r;for(r=[],e=0,a=n.length;e<a;e++)t=n[e],r.push(o.a.createElement(T.a,{key:t,label:s[t].title}));return r}())),o.a.createElement(y,{value:i[a],cards:e,type:a,onChange:this.makeChangeEventHandler(a)}),o.a.createElement("b",null,"Selected Cards:"),o.a.createElement(f,{selected:i,cards:e,types:s}))}}]),t}(s.Component),F=a(34),K=a.n(F),q=[].indexOf;Y=function(e){var t,a,n,r,s;return s=e.value,r=e.players,t=e.excluded,n=e.onChange,o.a.createElement(M.a,{row:!0,name:"players",value:s,onChange:n},function(){var e,n,s;for(s=[],e=0,n=r.length;e<n;e++)a=r[e],s.push(o.a.createElement(W.a,{key:a,value:a,control:o.a.createElement(N.a,null),label:a,disabled:null!=t&&q.call(t,a)>=0}));return s}())};var V,z,J,U,Q,$,X=function(e){var t,a,n,r;return r=e.value,n=e.players,t=e.excluded,a=e.onChange,o.a.createElement(K.a,{component:"fieldset"},o.a.createElement(Y,{value:r,players:n,excluded:t,onChange:function(e){return a(e.target.value)}}))},Z=a(14),ee=a.n(Z),te=a(24),ae=a.n(te),ne=a(27),re=a.n(ne),se=a(26),oe=a.n(se),ie=a(25),le=a.n(ie),ce=a(28),he=a.n(ce),ue=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChangeAccuserId=a.handleChangeAccuserId.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeCards=a.handleChangeCards.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeOutcome=a.handleChangeOutcome.bind(Object(g.a)(Object(g.a)(a))),a.handleDone=a.handleDone.bind(Object(g.a)(Object(g.a)(a))),a.handleCancel=a.handleCancel.bind(Object(g.a)(Object(g.a)(a))),a.state={accuserId:null,cardIds:{},outcome:null},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"stateIsOk",value:function(){var e,t;return e=function(){var e;for(t in e=[],this.state.cardIds)e.push(t);return e}.call(this).length,null!=this.state.accuserId&&3===e&&null!=this.state.outcome}},{key:"handleChangeAccuserId",value:function(e){return ue(this,t),this.setState({accuserId:e})}},{key:"handleChangeCards",value:function(e,a){return ue(this,t),this.setState(function(t,n){var r;return(r=Object.assign({},t.cardIds))[e]=a,{cardIds:r}})}},{key:"handleChangeOutcome",value:function(e){return ue(this,t),this.setState({outcome:e.target.value})}},{key:"handleDone",value:function(){var e,a,n;return ue(this,t),this.stateIsOk()?(a=function(){var t,a;for(n in a=[],t=this.state.cardIds)e=t[n],a.push(e);return a}.call(this),this.props.app.recordAccusation(this.state.accuserId,a,"yes"===this.state.outcome),this.setState({accuserId:null,cardIds:{},outcome:null}),this.props.onClose()):this.props.app.showConfirmDialog("Error","You must select an accuser, 3 cards, and the outcome.")}},{key:"handleCancel",value:function(){return ue(this,t),this.setState({accuserId:null,cardIds:{},outcome:null}),this.props.onClose()}},{key:"render",value:function(){var e,t,a,n=this.props;return t=n.open,e=n.configuration,a=n.players,o.a.createElement(ae.a,{open:t,onClose:this.handleCancel},o.a.createElement(le.a,{id:"form-dialog-title"},"Record An Accusation"),o.a.createElement(oe.a,null,o.a.createElement(D.a,{variant:"h6"},"Who made the accusation?"),o.a.createElement(X,{value:this.state.accuserId,players:a,onChange:this.handleChangeAccuserId}),o.a.createElement(he.a,null),o.a.createElement(D.a,{variant:"h6"},"What was the accusation?"),o.a.createElement(G,{value:this.state.cardIds,cards:e.cards,types:e.types,onChange:this.handleChangeCards}),o.a.createElement(he.a,null),o.a.createElement(D.a,{variant:"h6"},"Was the accusation correct?"),o.a.createElement(K.a,{component:"fieldset"},o.a.createElement(M.a,{row:!0,name:"outcome",value:this.state.outcome,onChange:this.handleChangeOutcome},o.a.createElement(W.a,{value:"yes",control:o.a.createElement(N.a,null),label:"Yes"}),o.a.createElement(W.a,{value:"no",control:o.a.createElement(N.a,null),label:"No"})))),o.a.createElement(re.a,null,o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(ee.a,{disabled:!this.stateIsOk(),variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component),pe=a(118),ge=a.n(pe),me=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},ye=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).apply(this,arguments))).handleYes=e.handleYes.bind(Object(g.a)(Object(g.a)(e))),e.handleNo=e.handleNo.bind(Object(g.a)(Object(g.a)(e))),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleYes",value:function(){if(me(this,t),this.props.onClose(),null!=this.props.yesAction)return this.props.yesAction()}},{key:"handleNo",value:function(){if(me(this,t),this.props.onClose(),null!=this.props.noAction)return this.props.noAction()}},{key:"render",value:function(){var e,t,a,n,r,s=this.props;return t=s.open,n=s.title,a=s.question,r=s.yesAction,e=s.noAction,o.a.createElement(ae.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:t,onClose:this.handleNo},o.a.createElement(le.a,{id:"form-dialog-title"},n),o.a.createElement(oe.a,null,o.a.createElement(ge.a,null,a)),o.a.createElement(re.a,null,null!=e?o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.handleNo},null!=r?"No":"Cancel"):void 0,null==r&&e?void 0:o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.handleYes},null!=e?"Yes":"Ok")))}}]),t}(s.Component),fe=a(38),ve=a.n(fe),be=a(79),Ce=a.n(be);$=function(e){return o.a.createElement(Ce.a,null,e.isAnswer?"star":"check_box")},J=function(){return""},z=function(){return o.a.createElement(Ce.a,{color:"disabled"},"indeterminate_check_box")},U=function(e){var t,a;return t=e.card,a=e.player,t.isHeldBy(a)?o.a.createElement($,{isAnswer:"ANSWER"===a}):t.mightBeHeldBy(a)?o.a.createElement(z,null):o.a.createElement(J,null)},V=function(e){var t,a;return a=e.players,o.a.createElement(ve.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(ve.a,{item:!0,xs:4},o.a.createElement("b",null,"Card")),function(){var e;for(t in e=[],a)e.push(o.a.createElement(ve.a,{item:!0,key:t,xs:1},o.a.createElement("b",null,t)));return e}())},Q=function(e){var t,a,n;return t=e.card,n=e.players,o.a.createElement(ve.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(ve.a,{item:!0,xs:4},t.isHeldBy("ANSWER")?o.a.createElement("b",null," ",t.info.name," "):t.info.name),function(){var e;for(a in e=[],n)e.push(o.a.createElement(ve.a,{item:!0,key:a,xs:1},o.a.createElement(U,{card:t,player:a})));return e}())};var Ee,Oe,we,ke=function(e){var t,a,n,r,s=e.solver;return a=s.cards,r=s.players,o.a.createElement(ve.a,{container:!0},o.a.createElement(V,{players:r}),function(){var e;for(n in e=[],a)t=a[n],e.push(o.a.createElement(Q,{key:n,card:t,players:r}));return e}())},Ie=a(61),je=a.n(Ie),Se=a(49),De=a.n(Se),Ae=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},Pe=[].indexOf;we=function(e){var t,a,n,r;return n=e.selected,r=e.type,t=e.cards,o.a.createElement("ul",null,function(){var e,s,i;for(i=[],e=0,s=n.length;e<s;e++)a=n[e],t[a].type===r&&i.push(o.a.createElement("li",{key:a}," ",t[a].name," "));return i}())},Oe=function(e){var t,a,n,r,s;return a=e.selected,t=e.cards,r=e.types,o.a.createElement("ul",null,function(){var e;for(n in e=[],r)s=r[n],e.push(o.a.createElement("li",{key:n},o.a.createElement("b",null,s.title),o.a.createElement(we,{selected:a,type:n,cards:t})));return e}())},Ee=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).apply(this,arguments))).makeChangeHandler=e.makeChangeHandler.bind(Object(g.a)(Object(g.a)(e))),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"makeChangeHandler",value:function(e){var a=this;return Ae(this,t),function(t){return a.props.onChange(e,t.target.checked)}}},{key:"render",value:function(){var e,t,a,n,r,s,i=this.props;return s=i.value,e=i.cards,t=i.excluded,r=i.type,o.a.createElement(De.a,{row:!0},function(){var i;for(a in i=[],e)(n=e[a]).type===r&&i.push(o.a.createElement(W.a,{key:a,control:o.a.createElement(je.a,{checked:Pe.call(s,a)>=0,disabled:null!=t&&Pe.call(t,a)>=0,onChange:this.makeChangeHandler(a),value:a}),label:n.name}));return i}.call(this))}}]),t}(s.Component);var We,Re,Ne,He,Me,Le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChangeTab=a.handleChangeTab.bind(Object(g.a)(Object(g.a)(a))),a.state={currentTab:0},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChangeTab",value:function(e,a){return Ae(this,t),this.setState({currentTab:a})}},{key:"render",value:function(){var e,t,a,n,r,s,i,l,c,h=this.props;return c=h.value,e=h.cards,l=h.types,t=h.excluded,n=h.onChange,s=function(){var e;for(a in e=[],l)e.push(a);return e}(),i=this.state.currentTab>=0&&this.state.currentTab<s.length?this.state.currentTab:0,r=s[i],o.a.createElement("div",null,o.a.createElement(C.a,{position:"static"},o.a.createElement(x.a,{value:i,onChange:this.handleChangeTab},function(){var e,t,n;for(n=[],e=0,t=s.length;e<t;e++)a=s[e],n.push(o.a.createElement(T.a,{key:a,label:l[a].title}));return n}())),o.a.createElement(Ee,{value:c,cards:e,excluded:t,type:r,onChange:n}),o.a.createElement("b",null,"Selected Cards:"),o.a.createElement(Oe,{selected:c,cards:e,types:l}))}}]),t}(s.Component),Te=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},_e=[].indexOf,xe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChangePlayer=a.handleChangePlayer.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeCards=a.handleChangeCards.bind(Object(g.a)(Object(g.a)(a))),a.handleDone=a.handleDone.bind(Object(g.a)(Object(g.a)(a))),a.handleCancel=a.handleCancel.bind(Object(g.a)(Object(g.a)(a))),a.state={playerId:null,cardIds:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"stateIsOk",value:function(){return null!=this.state.playerId&&this.state.cardIds.length>0}},{key:"handleChangePlayer",value:function(e){return Te(this,t),this.setState({playerId:e})}},{key:"handleChangeCards",value:function(e,a){return Te(this,t),a?this.setState(function(t,a){return _e.call(t.cardIds,e)<0?{cardIds:t.cardIds.concat([e])}:null}):this.setState(function(t,a){var n;return _e.call(t.cardIds,e)>=0?{cardIds:function(){var a,r,s,o;for(o=[],a=0,r=(s=t.cardIds).length;a<r;a++)(n=s[a])!==e&&o.push(n);return o}()}:null})}},{key:"handleDone",value:function(){return Te(this,t),this.stateIsOk()?(this.props.app.recordHand(this.state.playerId,this.state.cardIds),this.setState({playerId:null,cardIds:[]}),this.props.onClose()):this.props.app.showConfirmDialog("Error","You must select a player and at least one card")}},{key:"handleCancel",value:function(){return Te(this,t),this.setState({playerId:null,cardIds:[]}),this.props.onClose()}},{key:"render",value:function(){var e,t,a,n=this.props;return t=n.open,a=n.players,e=n.configuration,o.a.createElement(ae.a,{open:t,fullscreen:"true",onClose:this.handleCancel},o.a.createElement(le.a,{id:"form-dialog-title"},"Record Your Hand"),o.a.createElement(oe.a,null,o.a.createElement(D.a,{variant:"h6"},"Which player are you?"),o.a.createElement(X,{value:this.state.playerId,players:a,onChange:this.handleChangePlayer}),o.a.createElement(he.a,null),o.a.createElement(D.a,{variant:"h6"},"Select the cards in your hand:"),o.a.createElement(Le,{value:this.state.cardIds,cards:e.cards,types:e.types,onChange:this.handleChangeCards})),o.a.createElement(re.a,null,o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(ee.a,{disabled:!this.stateIsOk(),variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component),Be=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};Re=function(e,t){var a,n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n=t.types[e.type],a="",r&&(a+=n.preposition),a+=n.article,a+=e.name},Me=function(e){var t,a,n,r;if(r=e[0],e.length>1)if(e.length>2){for(t=0,a=(n=e.slice(1,-1)).length;t<a;t++)r+=", "+n[t];r+=", and "+e[e.length-1]}else r+=" and "+e[1];return r},Ne=function(e){return Me(e)},We=function(e,t){var a,n,r;return a=t.cards,r=function(){var r,s,o;for(o=[],r=0,s=e.length;r<s;r++)n=e[r],o.push(Re(a[n],t,!1));return o}(),Me(r)},He=function(e,t){var a,n,r,s,o,i,l;return s=t.cards,l=t.suggestionOrder,a=function(){var t,a,n;for(n=[],t=0,a=e.length;t<a;t++)i=e[t],s[i].type===l[0]&&n.push(s[i]);return n}()[0],n=function(){var t,a,n;for(n=[],t=0,a=e.length;t<a;t++)i=e[t],s[i].type===l[1]&&n.push(s[i]);return n}()[0],r=function(){var t,a,n;for(n=[],t=0,a=e.length;t<a;t++)i=e[t],s[i].type===l[2]&&n.push(s[i]);return n}()[0],o=Re(a,t)+" ",o+=Re(n,t)+" ",o+=Re(r,t)};var Ye,Ge,Fe,Ke,qe,Ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).describeSetup=a.describeSetup.bind(Object(g.a)(Object(g.a)(a))),a.describeHand=a.describeHand.bind(Object(g.a)(Object(g.a)(a))),a.describeSuggest=a.describeSuggest.bind(Object(g.a)(Object(g.a)(a))),a.describeShow=a.describeShow.bind(Object(g.a)(Object(g.a)(a))),a.describeAccuse=a.describeAccuse.bind(Object(g.a)(Object(g.a)(a))),a.describeEntry=a.describeEntry.bind(Object(g.a)(Object(g.a)(a))),a.configuration=null,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"describeSetup",value:function(e){return Be(this,t),"Playing ".concat(this.configuration.name," with ").concat(Ne(e.players),".")}},{key:"describeHand",value:function(e){return Be(this,t),"".concat(e.player," has ").concat(We(e.cards,this.configuration),".")}},{key:"describeSuggest",value:function(e){return Be(this,t),"".concat(e.suggester," suggested ").concat(He(e.cards,this.configuration),". ").concat(Ne(e.showed)," showed a card.")}},{key:"describeShow",value:function(e){var a;return Be(this,t),a=this.configuration.cards,"".concat(e.player," showed ").concat(Re(a[e.card],this.configuration,!1),".")}},{key:"describeAccuse",value:function(e){return Be(this,t),"".concat(e.accuser," accused ").concat(He(e.cards,this.configuration),". The accusation was ").concat(e.outcome?"":"not ","correct.")}},{key:"describeEntry",value:function(e){return Be(this,t),null!=e.setup?this.describeSetup(e.setup):null!=e.hand?this.describeHand(e.hand):null!=e.suggest?this.describeSuggest(e.suggest):null!=e.show?this.describeShow(e.show):null!=e.accuse?this.describeAccuse(e.accuse):alert("Unknown log entry")}},{key:"render",value:function(){var e,t,a,n,r,s,i=this.props;return r=i.open,a=i.log,e=i.configurations,n=i.onClose,this.configuration=null!=a[0]&&null!=a[0].setup?e[a[0].setup.variation]:null,o.a.createElement(ae.a,{open:r,fullscreen:"true",onClose:n},o.a.createElement(le.a,{id:"form-dialog-title"},"Log"),o.a.createElement(oe.a,null,o.a.createElement("ol",null,function(){var e,n,r;for(r=[],s=e=0,n=a.length;e<n;s=++e)t=a[s],r.push(o.a.createElement("li",{key:s}," ",this.describeEntry(t)," "));return r}.call(this))),o.a.createElement(re.a,null,o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:n},"Done")))}}]),t}(s.Component),ze=a(119),Je=a.n(ze),Ue=a(62),Qe=a.n(Ue),$e=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},Xe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).apply(this,arguments))).handleStart=e.handleStart.bind(Object(g.a)(Object(g.a)(e))),e.handleClear=e.handleClear.bind(Object(g.a)(Object(g.a)(e))),e.handleLog=e.handleLog.bind(Object(g.a)(Object(g.a)(e))),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleStart",value:function(){return $e(this,t),this.props.app.showNewGameDialog(),this.props.onClose()}},{key:"handleClear",value:function(){return $e(this,t),this.props.app.showConfirmDialog("Please confirm","Are you sure you want to clear the current game?",this.props.app.clearGame,function(){return{}}),this.props.onClose()}},{key:"handleLog",value:function(){return $e(this,t),this.props.app.showLog(),this.props.onClose()}},{key:"render",value:function(){var e,t,a,n=this.props;return e=n.anchor,t=n.enableShowLog,a=n.onClose,o.a.createElement(Je.a,{id:"main-menu",anchorEl:e,open:Boolean(e),onClose:a},o.a.createElement(Qe.a,{onClick:this.handleStart},"Start New Game"),o.a.createElement(Qe.a,{onClick:this.handleClear},"Clear Current Game"),o.a.createElement(Qe.a,{disabled:!t,onClick:this.handleLog},"Show Log"))}}]),t}(s.Component),Ze=a(78),et=a.n(Ze),tt=a(120),at=a.n(tt),nt=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},rt=[].indexOf;Fe=function(e){var t,a;return o.a.createElement(M.a,{row:!0,name:"variations",value:e.configuration,onChange:e.onChange},function(){var n,r;for(t in r=[],n=e.configurations)a=n[t],r.push(o.a.createElement(W.a,{key:t,value:t,control:o.a.createElement(N.a,null),label:a.name}));return r}())},Ke=function(e){return o.a.createElement(K.a,{component:"fieldset"},o.a.createElement(et.a,{component:"legend"},o.a.createElement(D.a,{variant:"h6"},"Select a variation:")),o.a.createElement(Fe,{configuration:e.configuration,configurations:e.configurations,onChange:function(t){return e.onChange(t.target.value)}}))},Ye=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(g.a)(Object(g.a)(a))),a.handleKeyDown=a.handleKeyDown.bind(Object(g.a)(Object(g.a)(a))),a.handleAddPlayer=a.handleAddPlayer.bind(Object(g.a)(Object(g.a)(a))),a.state={playerId:""},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){return nt(this,t),this.setState({playerId:e.target.value})}},{key:"handleKeyDown",value:function(e){nt(this,t),13===e.keyCode&&this.props.count<this.props.max&&this.handleAddPlayer()}},{key:"handleAddPlayer",value:function(){var e;if(nt(this,t),""!==this.state.playerId)return"ANSWER"!==this.state.playerId&&(e=this.state.playerId,rt.call(this.props.players,e)<0)?this.props.onAddPlayer(this.state.playerId):this.props.app.showConfirmDialog("Error","A player's name must be unique and it cannot be ANSWER."),this.setState({playerId:""})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(at.a,{autoFocus:!0,margin:"normal",value:this.state.playerId,onChange:this.handleChange,onKeyDown:this.handleKeyDown}),o.a.createElement(ee.a,{disabled:this.props.count>=this.props.max,variant:"contained",color:"primary",onClick:this.handleAddPlayer},"Add"))}}]),t}(s.Component),qe=function(e){return o.a.createElement("ol",null,e.names.map(function(e){return o.a.createElement("li",{key:e}," ",e," ")}))},Ge=function(e){var t,a,n,r,s;return s=e.players,a=e.max,t=e.app,n=e.onAddPlayer,r=e.onClearPlayers,o.a.createElement("div",null,o.a.createElement(Ye,{players:s,count:s.length,max:a,app:t,onAddPlayer:n}),o.a.createElement(qe,{names:s}),o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:r},"Clear Players"))};var st,ot=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleAddPlayer=a.handleAddPlayer.bind(Object(g.a)(Object(g.a)(a))),a.handleClearPlayers=a.handleClearPlayers.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeConfiguration=a.handleChangeConfiguration.bind(Object(g.a)(Object(g.a)(a))),a.handleDone=a.handleDone.bind(Object(g.a)(Object(g.a)(a))),a.handleCancel=a.handleCancel.bind(Object(g.a)(Object(g.a)(a))),a.state={playerIds:[],configurationId:null},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleAddPlayer",value:function(e){return nt(this,t),this.setState(function(t,a){return{playerIds:t.playerIds.concat([e])}})}},{key:"handleClearPlayers",value:function(){return nt(this,t),this.setState({playerIds:[]})}},{key:"handleChangeConfiguration",value:function(e){return nt(this,t),this.setState({configurationId:e})}},{key:"handleDone",value:function(){return nt(this,t),this.props.app.newGame(this.state.configurationId,this.state.playerIds),this.props.onClose()}},{key:"handleCancel",value:function(){return nt(this,t),this.props.onClose()}},{key:"render",value:function(){var e,t,a,n,r,s,i=this.props;return s=i.open,t=i.configurations,e=i.app,r=this.state.playerIds.length,n=this.state.configurationId?t[this.state.configurationId].minPlayers:0,a=this.state.configurationId?t[this.state.configurationId].maxPlayers:0,o.a.createElement(ae.a,{open:s,onClose:this.handleCancel},o.a.createElement(le.a,{id:"form-dialog-title"},"New Game"),o.a.createElement(oe.a,null,o.a.createElement(Ke,{configuration:this.state.configurationId,configurations:t,onChange:this.handleChangeConfiguration}),o.a.createElement(he.a,null),o.a.createElement(D.a,{variant:"h6"},a>0?"Add up to ".concat(a," players:"):"Add players:"),o.a.createElement(Ge,{players:this.state.playerIds,max:a,app:e,onAddPlayer:this.handleAddPlayer,onClearPlayers:this.handleClearPlayers})),o.a.createElement(re.a,null,o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(ee.a,{disabled:null==this.state.configurationId||r<n,variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component);st=function(e){var t,a,n,r,s,i;return i=e.value,s=e.type,t=e.cards,r=e.onChange,o.a.createElement(M.a,{row:!0,name:"cards",value:i,onChange:r},function(){var e;for(a in e=[],t)(n=t[a]).type===s&&e.push(o.a.createElement(W.a,{key:a,value:a,control:o.a.createElement(N.a,null),label:n.name}));return e}())};var it,lt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChangeTab=a.handleChangeTab.bind(Object(g.a)(Object(g.a)(a))),a.state={currentTab:0},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChangeTab",value:function(e,a){return function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t),this.setState({currentTab:a})}},{key:"render",value:function(){var e,t,a,n,r,s,i,l=this,c=this.props;return i=c.value,e=c.cards,s=c.types,n=function(){var e;for(t in e=[],s)e.push(t);return e}(),r=this.state.currentTab>=0&&this.state.currentTab<n.length?this.state.currentTab:0,a=n[r],o.a.createElement("div",null,o.a.createElement(C.a,{position:"static"},o.a.createElement(x.a,{value:r,onChange:this.handleChangeTab},function(){var e,a,r;for(r=[],e=0,a=n.length;e<a;e++)t=n[e],r.push(o.a.createElement(T.a,{key:t,label:s[t].title}));return r}())),o.a.createElement(K.a,{component:"fieldset"},o.a.createElement(st,{value:i,type:a,cards:e,onChange:function(e){return l.props.onChange(e.target.value)}})))}}]),t}(s.Component),ct=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},ht=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChangePlayer=a.handleChangePlayer.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeCard=a.handleChangeCard.bind(Object(g.a)(Object(g.a)(a))),a.handleDone=a.handleDone.bind(Object(g.a)(Object(g.a)(a))),a.handleCancel=a.handleCancel.bind(Object(g.a)(Object(g.a)(a))),a.state={playerId:null,cardId:null},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"stateIsOk",value:function(){return null!=this.state.playerId&&null!=this.state.cardId}},{key:"handleChangePlayer",value:function(e){return ct(this,t),this.setState({playerId:e})}},{key:"handleChangeCard",value:function(e){return ct(this,t),this.setState({cardId:e})}},{key:"handleDone",value:function(){return ct(this,t),this.stateIsOk()?(this.props.app.recordShown(this.state.playerId,this.state.cardId),this.setState({playerId:null,cardId:null}),this.props.onClose()):this.props.app.showConfirmDialog("Error","You must select a player and a card")}},{key:"handleCancel",value:function(){return ct(this,t),this.setState({playerId:null,cardId:null}),this.props.onClose()}},{key:"render",value:function(){var e,t,a,n=this.props;return t=n.open,a=n.players,e=n.configuration,o.a.createElement(ae.a,{open:t,onClose:this.handleCancel},o.a.createElement(le.a,{id:"form-dialog-title"},"Record A Shown Card"),o.a.createElement(oe.a,null,o.a.createElement(D.a,{variant:"h4"},"Who showed the card?"),o.a.createElement(X,{value:this.state.playerId,players:a,onChange:this.handleChangePlayer}),o.a.createElement(he.a,null),o.a.createElement(D.a,{variant:"h4"},"What card did they show?"),o.a.createElement(lt,{value:this.state.cardId,cards:e.cards,types:e.types,onChange:this.handleChangeCard})),o.a.createElement(re.a,null,o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(ee.a,{disabled:!this.stateIsOk(),variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component),ut=[].indexOf,dt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).apply(this,arguments))).makeChangeHandler=e.makeChangeHandler.bind(Object(g.a)(Object(g.a)(e))),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"makeChangeHandler",value:function(e){var a=this;return function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t),function(t){return a.props.onChange(e,t.target.checked)}}},{key:"render",value:function(){var e,t,a,n,r=this.props;return n=r.value,a=r.players,e=r.excluded,o.a.createElement(De.a,{row:!0},function(){var r,s,i;for(i=[],r=0,s=a.length;r<s;r++)t=a[r],i.push(o.a.createElement(W.a,{key:t,value:t,control:o.a.createElement(je.a,{checked:ut.call(n,t)>=0,disabled:null!=e&&ut.call(e,t)>=0,onChange:this.makeChangeHandler(t),value:t}),label:t}));return i}.call(this))}}]),t}(s.Component),pt=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},gt=[].indexOf,mt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChangeSuggesterId=a.handleChangeSuggesterId.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeCards=a.handleChangeCards.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeShowedIdsMaster=a.handleChangeShowedIdsMaster.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeShowedIdsClassic=a.handleChangeShowedIdsClassic.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeDidNotShowIdsClassic=a.handleChangeDidNotShowIdsClassic.bind(Object(g.a)(Object(g.a)(a))),a.handleDoneMaster=a.handleDoneMaster.bind(Object(g.a)(Object(g.a)(a))),a.handleDoneClassic=a.handleDoneClassic.bind(Object(g.a)(Object(g.a)(a))),a.handleDone=a.handleDone.bind(Object(g.a)(Object(g.a)(a))),a.handleCancel=a.handleCancel.bind(Object(g.a)(Object(g.a)(a))),a.state={suggesterId:null,cardIds:{},showedIds:[],didNotShowIds:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"close",value:function(){return this.setState({suggesterId:null,cardIds:{},showedIds:[],didNotShowIds:[]}),this.props.onClose()}},{key:"stateIsOkMaster",value:function(){var e,t;return e=function(){var e;for(t in e=[],this.state.cardIds)e.push(t);return e}.call(this).length,null!=this.state.suggesterId&&3===e&&this.state.showedIds.length<=3}},{key:"stateIsOkClassic",value:function(){var e,t;return e=function(){var e;for(t in e=[],this.state.cardIds)e.push(t);return e}.call(this).length,null!=this.state.suggesterId&&3===e}},{key:"stateIsOk",value:function(){return"master"===this.props.configuration.rulesId?this.stateIsOkMaster():this.stateIsOkClassic()}},{key:"handleChangeSuggesterId",value:function(e){return pt(this,t),this.setState({suggesterId:e})}},{key:"handleChangeCards",value:function(e,a){return pt(this,t),this.setState(function(t,n){var r;return(r=Object.assign({},t.cardIds))[e]=a,{cardIds:r}})}},{key:"handleChangeShowedIdsMaster",value:function(e,a){return pt(this,t),a?this.setState(function(t,a){return gt.call(t.showedIds,e)<0?{showedIds:t.showedIds.concat([e])}:null}):this.setState(function(t,a){var n;return gt.call(t.showedIds,e)>=0?{showedIds:function(){var a,r,s,o;for(o=[],a=0,r=(s=t.showedIds).length;a<r;a++)(n=s[a])!==e&&o.push(n);return o}()}:null})}},{key:"handleChangeShowedIdsClassic",value:function(e){return pt(this,t),this.setState({showedIds:[e]})}},{key:"handleChangeDidNotShowIdsClassic",value:function(e,a){return pt(this,t),a?this.setState(function(t,a){return gt.call(t.didNotShowIds,e)<0?{didNotShowIds:t.didNotShowIds.concat([e])}:null}):this.setState(function(t,a){var n;return gt.call(t.didNotShowIds,e)>=0?{didNotShowIds:function(){var a,r,s,o;for(o=[],a=0,r=(s=t.didNotShowIds).length;a<r;a++)(n=s[a])!==e&&o.push(n);return o}()}:null})}},{key:"handleDoneMaster",value:function(){var e,a,n,r=this;return pt(this,t),this.stateIsOkMaster()?(a=function(){var t,a;for(n in a=[],t=this.state.cardIds)e=t[n],a.push(e);return a}.call(this),this.state.showedIds.length>0?(this.props.app.recordSuggestion(this.state.suggesterId,a,this.state.showedIds),this.close()):this.props.app.showConfirmDialog("Please confirm","Are you sure that nobody showed any cards?",function(){return r.props.app.recordSuggestion(r.state.suggesterId,a,r.state.showedIds),r.close()},function(){return{}})):this.props.app.showConfirmDialog("Error","You must select a suggester, 3 cards, and up to 3 players who showed cards.")}},{key:"handleDoneClassic",value:function(){var e,a,n,r=this;return pt(this,t),this.stateIsOkClassic()?(a=function(){var t,a;for(n in a=[],t=this.state.cardIds)e=t[n],a.push(e);return a}.call(this),null!=this.state.showedIds[0]?(this.props.app.recordSuggestion(this.state.suggesterId,a,this.state.didNotShowIds.concat(this.state.showedIds)),this.close()):this.props.app.showConfirmDialog("Please confirm","Are you sure that nobody showed a card?",function(){return r.props.app.recordSuggestion(r.state.suggesterId,a,[]),r.close()},function(){return{}})):this.props.app.showConfirmDialog("Error","You must select a suggester, 3 cards, and up to 3 players who showed cards.")}},{key:"handleDone",value:function(){return pt(this,t),"master"===this.props.configuration.rulesId?this.handleDoneMaster():this.handleDoneClassic()}},{key:"handleCancel",value:function(){return pt(this,t),this.close()}},{key:"render",value:function(){var e,t,a,n=this.props;return t=n.open,a=n.players,e=n.configuration,o.a.createElement(ae.a,{open:t,onClose:this.handleCancel},o.a.createElement(le.a,{id:"form-dialog-title"},"Record A Suggestion"),o.a.createElement(oe.a,null,o.a.createElement(D.a,{variant:"h4"}," Who made the suggestion? "),o.a.createElement(X,{value:this.state.suggesterId,players:a,onChange:this.handleChangeSuggesterId}),o.a.createElement(he.a,null),o.a.createElement(D.a,{variant:"h4"}," What cards were suggested? "),o.a.createElement(G,{value:this.state.cardIds,cards:e.cards,types:e.types,onChange:this.handleChangeCards}),o.a.createElement(he.a,null),"master"===e.rulesId?o.a.createElement("div",null,o.a.createElement(D.a,{variant:"h4"}," Who showed a card? "),o.a.createElement(dt,{value:this.state.showedIds,players:a,excluded:null!==this.state.suggesterId?[this.state.suggesterId]:[],onChange:this.handleChangeShowedIdsMaster})):o.a.createElement("div",null,o.a.createElement(D.a,{variant:"h4"}," Who did not have a card? "),o.a.createElement(dt,{value:this.state.didNotShowIds,players:a,excluded:null!==this.state.suggesterId?this.state.showedIds.concat([this.state.suggesterId]):[],onChange:this.handleChangeDidNotShowIdsClassic}),o.a.createElement(D.a,{variant:"h4"}," Who showed a card? "),o.a.createElement(X,{value:this.state.showedIds[0],players:a,excluded:null!==this.state.suggesterId?this.state.didNotShowIds.concat([this.state.suggesterId]):[],onChange:this.handleChangeShowedIdsClassic}))),o.a.createElement(re.a,null,o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.handleCancel},"Cancel"),o.a.createElement(ee.a,{disabled:!this.stateIsOk(),variant:"contained",color:"primary",onClick:this.handleDone},"Done")))}}]),t}(s.Component),yt=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};it={classic:{name:"Classic",rulesId:"classic",minPlayers:3,maxPlayers:6,types:{suspect:{title:"Suspects",preposition:"",article:""},weapon:{title:"Weapons",preposition:"with ",article:"the "},room:{title:"Rooms",preposition:"in ",article:"the "}},cards:{mustard:{name:"Colonel Mustard",type:"suspect"},white:{name:"Mrs. White",type:"suspect"},plum:{name:"Professor Plum",type:"suspect"},peacock:{name:"Mrs. Peacock",type:"suspect"},green:{name:"Mr. Green",type:"suspect"},scarlet:{name:"Miss Scarlet",type:"suspect"},revolver:{name:"Revolver",type:"weapon"},knife:{name:"Knife",type:"weapon"},rope:{name:"Rope",type:"weapon"},pipe:{name:"Lead pipe",type:"weapon"},wrench:{name:"Wrench",type:"weapon"},candlestick:{name:"Candlestick",type:"weapon"},dining:{name:"Dining Room",type:"room"},conservatory:{name:"Conservatory",type:"room"},kitchen:{name:"Kitchen",type:"room"},study:{name:"Study",type:"room"},library:{name:"Library",type:"room"},billiard:{name:"Billiards Room",type:"room"},lounge:{name:"Lounge",type:"room"},ballroom:{name:"Ballroom",type:"room"},hall:{name:"Hall",type:"room"}},suggestionOrder:["suspect","weapon","room"]},master_detective:{name:"Master Detective",rulesId:"master",minPlayers:3,maxPlayers:10,types:{suspect:{title:"Suspects",preposition:"",article:""},weapon:{title:"Weapons",preposition:"with ",article:"the "},room:{title:"Rooms",preposition:"in ",article:"the "}},cards:{mustard:{name:"Colonel Mustard",type:"suspect"},white:{name:"Mrs. White",type:"suspect"},plum:{name:"Professor Plum",type:"suspect"},peacock:{name:"Mrs. Peacock",type:"suspect"},green:{name:"Mr. Green",type:"suspect"},scarlet:{name:"Miss Scarlet",type:"suspect"},rose:{name:"Madame Rose",type:"suspect"},gray:{name:"Sergeant Gray",type:"suspect"},brunette:{name:"Monsieur Brunette",type:"suspect"},peach:{name:"Miss Peach",type:"suspect"},revolver:{name:"Revolver",type:"weapon"},knife:{name:"Knife",type:"weapon"},rope:{name:"Rope",type:"weapon"},pipe:{name:"Pipe",type:"weapon"},wrench:{name:"Wrench",type:"weapon"},candlestick:{name:"Candlestick",type:"weapon"},poison:{name:"Poison",type:"weapon"},horseshoe:{name:"Horseshoe",type:"weapon"},dining:{name:"Dining Room",type:"room"},conservatory:{name:"Conservatory",type:"room"},kitchen:{name:"Kitchen",type:"room"},studio:{name:"Studio",type:"room"},library:{name:"Library",type:"room"},billiard:{name:"Billiard Room",type:"room"},courtyard:{name:"Courtyard",type:"room"},gazebo:{name:"Gazebo",type:"room"},drawing:{name:"Drawing Room",type:"room"},carriage:{name:"Carriage House",type:"room"},trophy:{name:"Trophy Room",type:"room"},fountain:{name:"Fountain",type:"room"}},suggestionOrder:["suspect","weapon","room"]},haunted_mansion:{name:"Haunted Mansion",rulesId:"classic",minPlayers:3,maxPlayers:6,types:{guest:{title:"Guests",preposition:"haunted ",article:""},ghost:{title:"Ghosts",preposition:"",article:"the "},room:{title:"Rooms",preposition:"in ",article:"the "}},cards:{pluto:{name:"Pluto",type:"guest"},daisy:{name:"Daisy Duck",type:"guest"},goofy:{name:"Goofy",type:"guest"},donald:{name:"Donald Duck",type:"guest"},minnie:{name:"Minnie Mouse",type:"guest"},mickey:{name:"Mickey Mouse",type:"guest"},prisoner:{name:"Prisoner",type:"ghost"},singer:{name:"Opera Singer",type:"ghost"},bride:{name:"Bride",type:"ghost"},traveler:{name:"Traveler",type:"ghost"},mariner:{name:"Mariner",type:"ghost"},skeleton:{name:"Candlestick",type:"ghost"},graveyard:{name:"Graveyard",type:"room"},seance:{name:"Seance Room",type:"room"},ballroom:{name:"Ballroom",type:"room"},attic:{name:"Attic",type:"room"},mausoleum:{name:"Mausoleum",type:"room"},conservatory:{name:"Conservatory",type:"room"},library:{name:"Library",type:"room"},foyer:{name:"Foyer",type:"room"},chamber:{name:"Portrait Chamber",type:"room"}},suggestionOrder:["ghost","guest","room"]}};var ft=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).newGame=a.newGame.bind(Object(g.a)(Object(g.a)(a))),a.clearGame=a.clearGame.bind(Object(g.a)(Object(g.a)(a))),a.recordHand=a.recordHand.bind(Object(g.a)(Object(g.a)(a))),a.recordSuggestion=a.recordSuggestion.bind(Object(g.a)(Object(g.a)(a))),a.recordShown=a.recordShown.bind(Object(g.a)(Object(g.a)(a))),a.recordAccusation=a.recordAccusation.bind(Object(g.a)(Object(g.a)(a))),a.showNewGameDialog=a.showNewGameDialog.bind(Object(g.a)(Object(g.a)(a))),a.showHandDialog=a.showHandDialog.bind(Object(g.a)(Object(g.a)(a))),a.showSuggestDialog=a.showSuggestDialog.bind(Object(g.a)(Object(g.a)(a))),a.showShowDialog=a.showShowDialog.bind(Object(g.a)(Object(g.a)(a))),a.showAccuseDialog=a.showAccuseDialog.bind(Object(g.a)(Object(g.a)(a))),a.showLog=a.showLog.bind(Object(g.a)(Object(g.a)(a))),a.showConfirmDialog=a.showConfirmDialog.bind(Object(g.a)(Object(g.a)(a))),a.handleConfirmDialogClose=a.handleConfirmDialogClose.bind(Object(g.a)(Object(g.a)(a))),a.state={playerIds:[],configurationId:"master_detective",solver:null,log:[],mainMenuAnchor:null,handDialogOpen:!1,suggestDialogOpen:!1,showDialogOpen:!1,accuseDialogOpen:!1,newGameDialogOpen:!1,confirmDialog:{open:!1,title:"",question:"",yesAction:null,noAction:null},logDialogOpen:!1},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"setupLogEntry",value:function(e,t){return{setup:{variation:e,players:t}}}},{key:"logHandEntry",value:function(e,t){return this.setState(function(a,n){return{log:a.log.concat([{hand:{player:e,cards:t}}])}})}},{key:"logSuggestEntry",value:function(e,t,a){return this.setState(function(n,r){return{log:n.log.concat([{suggest:{suggester:e,cards:t,showed:a}}])}})}},{key:"logShowEntry",value:function(e,t){return this.setState(function(a,n){return{log:a.log.concat([{show:{player:e,card:t}}])}})}},{key:"logAccuseEntry",value:function(e,t,a){return this.setState(function(n,r){return{log:n.log.concat([{accuse:{accuser:e,cards:t,outcome:a}}])}})}},{key:"newGame",value:function(e,a){return yt(this,t),this.setState({playerIds:a,configurationId:e,solver:new v(it[e],a),log:[this.setupLogEntry(e,a)]})}},{key:"clearGame",value:function(){return yt(this,t),this.setState({solver:null,progress:0,log:[]})}},{key:"recordHand",value:function(e,a){if(yt(this,t),null!=this.state.solver)return this.state.solver.hand(e,a),this.logHandEntry(e,a)}},{key:"recordSuggestion",value:function(e,a,n){if(yt(this,t),null!=this.state.solver)return this.state.solver.suggest(e,a,n,this.state.progress),this.logSuggestEntry(e,a,n)}},{key:"recordShown",value:function(e,a){if(yt(this,t),null!=this.state.solver)return this.state.solver.show(e,a),this.logShowEntry(e,a)}},{key:"recordAccusation",value:function(e,a,n){if(yt(this,t),null!=this.state.solver)return this.state.solver.accuse(e,a,n),this.logAccuseEntry(e,a,n)}},{key:"showMainMenu",value:function(e){return this.setState({mainMenuAnchor:e})}},{key:"showNewGameDialog",value:function(){return yt(this,t),this.setState({newGameDialogOpen:!0})}},{key:"showHandDialog",value:function(){return yt(this,t),this.setState({handDialogOpen:!0})}},{key:"showSuggestDialog",value:function(){return yt(this,t),this.setState({suggestDialogOpen:!0})}},{key:"showShowDialog",value:function(){return yt(this,t),this.setState({showDialogOpen:!0})}},{key:"showAccuseDialog",value:function(){return yt(this,t),this.setState({accuseDialogOpen:!0})}},{key:"showLog",value:function(){return yt(this,t),this.setState({logDialogOpen:!0})}},{key:"showConfirmDialog",value:function(e,a,n,r){return yt(this,t),this.setState({confirmDialog:{open:!0,title:e,question:a,yesAction:n,noAction:r}})}},{key:"handleConfirmDialogClose",value:function(){return yt(this,t),this.setState({confirmDialog:{open:!1,title:"",question:"",yesAction:null,noAction:null}})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(A,{app:this}),null!=this.state.solver?o.a.createElement("div",null,o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.showHandDialog},"Hand"),o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.showSuggestDialog},"Suggest"),o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.showShowDialog},"Show"),o.a.createElement(ee.a,{variant:"contained",color:"primary",onClick:this.showAccuseDialog},"Accuse"),o.a.createElement(he.a,null),o.a.createElement(ke,{solver:this.state.solver,app:this})):void 0,o.a.createElement(Xe,{anchor:this.state.mainMenuAnchor,enableShowLog:null!=this.state.log&&this.state.log.length>0,onClose:function(){return e.setState({mainMenuAnchor:null})},app:this}),o.a.createElement(ot,{open:this.state.newGameDialogOpen,configurations:it,onClose:function(){return e.setState({newGameDialogOpen:!1})},app:this}),o.a.createElement(xe,{open:this.state.handDialogOpen,configuration:it[this.state.configurationId],players:this.state.playerIds,onClose:function(){return e.setState({handDialogOpen:!1})},app:this}),o.a.createElement(mt,{open:this.state.suggestDialogOpen,configuration:it[this.state.configurationId],players:this.state.playerIds,onClose:function(){return e.setState({suggestDialogOpen:!1})},app:this}),o.a.createElement(ht,{open:this.state.showDialogOpen,configuration:it[this.state.configurationId],players:this.state.playerIds,onClose:function(){return e.setState({showDialogOpen:!1})},app:this}),o.a.createElement(de,{open:this.state.accuseDialogOpen,configuration:it[this.state.configurationId],players:this.state.playerIds,onClose:function(){return e.setState({accuseDialogOpen:!1})},app:this}),o.a.createElement(Ve,{open:this.state.logDialogOpen,log:this.state.log,configurations:it,onClose:function(){return e.setState({logDialogOpen:!1})},app:this}),o.a.createElement(ye,{open:this.state.confirmDialog.open,title:this.state.confirmDialog.title,question:this.state.confirmDialog.question,yesAction:this.state.confirmDialog.yesAction,noAction:this.state.confirmDialog.noAction,onClose:this.handleConfirmDialogClose,app:this}))}}]),t}(s.Component),vt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function bt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(ft,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");vt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):bt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):bt(e)})}}()}},[[121,2,1]]]);
//# sourceMappingURL=main.25f0427b.chunk.js.map
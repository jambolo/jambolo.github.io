{"version":3,"sources":["Solver.js","CurrentState.js","TopBar.js","ConfirmDialog.js","MultipleCardChooser.js","PlayerChooser.js","SetupDialog.js","HandDialog.js","MainMenu.js","CardChooser.js","PerCategoryCardChooser.js","ShowDialog.js","App.js","MultiplePlayerChooser.js","SuggestDialog.js","registerServiceWorker.js","index.js"],"names":["Card","Player","indexOf","holders1","info1","Object","classCallCheck","this","holders","info","createClass","key","value","playerId","filter","h","call","length","cardIds","potential","cardId","c","count","held","j","len","mightHold","Solver","HeaderRow","Maybe","No","StateElement","StateGrid","StateRow","Yes","configuration","playerIds","id","p","playerIdsIncludingAnswer","ref","ANSWER_PLAYER_ID","rulesId","types","cards","players","discoveriesLog","suggestions","facts","results","push","concat","ANSWER","cardsIds","changed","deduceFromHand","makeOtherDeductions","deduceFromShow","showedIds","suggestion","deduceFromSuggestion","playerIsValid","cardIsValid","typeId","deduceFromSuggestionWithMasterRules","deduceFromSuggestionWithClassicRules","hand","addDiscovery","associatePlayerWithCard","disassociatePlayerWithCard","i","mustHoldId","suggesterId","addDiscoveries","disassociatePlayerWithCards","mustHoldOne","player","s","addCardHoldersToDiscoveries","checkThatAnswerHoldsExactlyOneOfEach","card","heldByAnswer","heldId","heldType","k","l","len1","len2","onlyPossible","ref1","isHeldBy","type","slice","only","disassociateOtherPlayersWithCard","remove","otherId","holds","reason","cardInfo","discovery","f","fact","article","name","arguments","undefined","TopBar","props","react_default","a","createElement","AppBar_default","position","Toolbar_default","IconButton_default","color","onClick","event","app","showMainMenu","currentTarget","Menu_default","Typography_default","variant","boundMethodCheck","instance","Constructor","Error","ConfirmDialog","_Component","_this","possibleConstructorReturn","getPrototypeOf","apply","handleYes","bind","assertThisInitialized","handleNo","inherits","console","log","onClose","yesAction","noAction","open","Dialog_default","DialogTitle_default","DialogContent_default","DialogContentText_default","question","DialogActions_default","Button_default","Component","Icon_default","CurrentState_Yes","mightBeHeldBy","CurrentState_Maybe","Grid_default","container","item","xs","justify","CurrentState_StateElement","CurrentState_HeaderRow","CurrentState_StateRow","CurrentState","CardChoices","CardList","GroupedCardList","showHandDialog","showSuggestDialog","showShowDialog","CurrentState_StateGrid","solver","selectedIds","title","MultipleCardChooser_GroupedCardList","FormGroup_default","row","FormControlLabel_default","control","Checkbox_default","checked","disabled","excluded","onChange","label","MultipleCardChooser","PlayerChoices","handleChangeTab","handleChangeCards","state","currentTab","setState","_this2","target","tabId","tabIds","tabIndex","_this$props","Tabs_default","Tab_default","MultipleCardChooser_CardChoices","MultipleCardChooser_CardList","RadioGroup_default","Radio_default","PlayerChooser","AddPlayerInput","ConfigurationChoices","ConfigurationChooser","PlayerList","Players","FormControl_default","component","PlayerChooser_PlayerChoices","HandDialog","handleChangePlayer","handleDone","handleCancel","selected","recordHand","showConfirmDialog","fullscreen","src_PlayerChooser","Divider_default","src_MultipleCardChooser","MainMenu","handleStart","handleClear","showNewGameDialog","clearGame","core_Menu_default","anchorEl","anchor","Boolean","MenuItem_default","configurationId","configurations","FormLabel_default","SetupDialog_ConfigurationChoices","handleChange","handleAddPlayer","onAddPlayer","TextField_default","autoFocus","margin","max","propTypes","PropTypes","arrayOf","string","isRequired","number","func","names","map","defaultProps","SetupDialog_AddPlayerInput","SetupDialog_PlayerList","onClearPlayers","SetupDialog","_Component2","handleClearPlayers","handleChangeConfiguration","newGame","maxPlayers","minPlayers","numPlayers","SetupDialog_ConfigurationChooser","SetupDialog_Players","CardChooser","CardChooser_CardChoices","ShowDialog","handleChangeCard","recordShown","src_CardChooser","PerCategoryCardChooser","PerCategoryCardChooser_CardChoices","PerCategoryCardChooser_CardList","MultiplePlayerChooser","SuggestDialog","handleChangeSuggesterId","handleChangeShowedIds","newCardIds","assign","recordSuggestion","src_PerCategoryCardChooser","src_MultiplePlayerChooser","classic","suspect","preposition","weapon","room","mustard","white","plum","peacock","green","scarlet","revolver","knife","rope","pipe","wrench","candlestick","dining","conservatory","kitchen","study","library","billiard","lounge","ballroom","hall","master_detective","rose","gray","brunette","peach","poison","horseshoe","studio","courtyard","gazebo","drawing","carriage","trophy","fountain","haunted_mansion","guest","ghost","pluto","daisy","goofy","donald","minnie","mickey","prisoner","singer","bride","traveler","mariner","skeleton","graveyard","seance","attic","mausoleum","foyer","chamber","App","handleShowDialogClose","handleNewGameDialogClose","handleConfirmDialogClose","progress","mainMenuAnchor","handDialogOpen","suggestDialogOpen","showDialogOpen","newGameDialogOpen","confirmDialog","suggest","show","className","src_TopBar","src_CurrentState","src_MainMenu","src_SetupDialog","src_HandDialog","src_SuggestDialog","src_ShowDialog","src_ConfirmDialog","isLocalhost","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","render","src_App","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.56240c72.chunk.js","sourcesContent":["// Generated by CoffeeScript 2.3.2\nvar Card, Player, Solver,\n  indexOf = [].indexOf;\n\nCard = class Card {\n  constructor(holders1, info1) {\n    this.holders = holders1;\n    this.info = info1;\n  }\n\n  remove(playerId) {\n    return this.holders = this.holders.filter(function(h) {\n      return h !== playerId;\n    });\n  }\n\n  mightBeHeldBy(playerId) {\n    return indexOf.call(this.holders, playerId) >= 0;\n  }\n\n  isHeldBy(playerId) {\n    return this.holders.length === 1 && this.holders[0] === playerId;\n  }\n\n};\n\nPlayer = class Player {\n  constructor(cardIds) {\n    this.potential = cardIds;\n  }\n\n  remove(cardId) {\n    return this.potential = this.potential.filter(function(c) {\n      return c !== cardId;\n    });\n  }\n\n  mightHold(cardId) {\n    return indexOf.call(this.potential, cardId) >= 0;\n  }\n\n  mustHoldOne(cardIds) {\n    var c, count, held, j, len;\n    count = 0;\n    held = null;\n    for (j = 0, len = cardIds.length; j < len; j++) {\n      c = cardIds[j];\n      if (this.mightHold(c)) {\n        ++count;\n        if (count > 1) { // Early out -- might hold more than one, so no\n          return null;\n        }\n        held = c; // Assuming for now that none of the others are held\n      }\n    }\n    return held;\n  }\n\n};\n\nSolver = class Solver {\n  constructor(configuration, playerIds) {\n    var cardIds, id, info, j, len, p, playerIdsIncludingAnswer, ref;\n    this.ANSWER_PLAYER_ID = \"ANSWER\"; // The answer is treated as a player\n    this.rulesId = configuration.rulesId;\n    this.types = configuration.types;\n    this.cards = {};\n    this.players = {};\n    this.discoveriesLog = [];\n    this.suggestions = [];\n    this.facts = [];\n    //    console.log(\"configuration.cards = \" + JSON.stringify(configuration.cards, null, 2))\n    cardIds = (function() {\n      var ref, results;\n      ref = configuration.cards;\n      results = [];\n      for (id in ref) {\n        info = ref[id];\n        results.push(id);\n      }\n      return results;\n    })();\n    //    console.log(\"solver.cardIds = #{cardIds}\")\n    playerIdsIncludingAnswer = playerIds.concat(this.ANSWER_PLAYER_ID);\n    ref = configuration.cards;\n    for (id in ref) {\n      info = ref[id];\n      this.cards[id] = new Card(playerIdsIncludingAnswer, info);\n    }\n    for (j = 0, len = playerIdsIncludingAnswer.length; j < len; j++) {\n      p = playerIdsIncludingAnswer[j];\n      this.players[p] = new Player(cardIds);\n    }\n    this.ANSWER = this.players[this.ANSWER_PLAYER_ID];\n  }\n\n  //    console.log(\"solver.players = \" + JSON.stringify(@players, null, 2))\n  hand(playerId, cardsIds) {\n    var changed;\n    this.discoveriesLog = [];\n    changed = false;\n    changed = this.deduceFromHand(playerId, cardsIds, changed);\n    changed = this.makeOtherDeductions(changed);\n    return changed;\n  }\n\n  show(playerId, cardId) {\n    var changed;\n    this.discoveriesLog = [];\n    changed = false;\n    changed = this.deduceFromShow(playerId, cardId, changed);\n    changed = this.makeOtherDeductions(changed);\n    return changed;\n  }\n\n  suggest(playerId, cardIds, showedIds, id) {\n    var changed, suggestion;\n    this.discoveriesLog = [];\n    suggestion = {id, playerId, cardIds, showedIds};\n    this.suggestions.push(suggestion);\n    changed = false;\n    changed = this.deduceFromSuggestion(suggestion, changed);\n    changed = this.makeOtherDeductions(changed);\n    return changed;\n  }\n\n  cardsThatMightBeHeldBy(playerId) {\n    return this.players[playerId].potential;\n  }\n\n  whoMightHold(cardId) {\n    return this.cards[cardId].holders;\n  }\n\n  playersAreValid(playerIds) {\n    var j, len, p;\n    for (j = 0, len = playerIds.length; j < len; j++) {\n      p = playerIds[j];\n      if (!this.playerIsValid(p)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  playerIsValid(playerId) {\n    //    console.log(\"playerIsValid: return #{playerId} isnt #{@ANSWER_PLAYER_ID} and #{playerId} of #{@players}\")\n    return playerId !== this.ANSWER_PLAYER_ID && playerId in this.players;\n  }\n\n  cardsAreValid(cardIds) {\n    var c, j, len;\n    for (j = 0, len = cardIds.length; j < len; j++) {\n      c = cardIds[j];\n      if (!this.cardIsValid(c)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  cardIsValid(cardId) {\n    return cardId in this.cards;\n  }\n\n  typeIsValid(typeId) {\n    return indexOf.call(this.types, typeId) >= 0;\n  }\n\n  deduceFromSuggestion(suggestion, changed) {\n    if (this.rulesId === \"master\") {\n      return this.deduceFromSuggestionWithMasterRules(suggestion, changed);\n    } else {\n      return this.deduceFromSuggestionWithClassicRules(suggestion, changed);\n    }\n  }\n\n  // Make deductions based on the player having exactly these cards\n  deduceFromHand(playerId, hand, changed) {\n    var cardId;\n// Associate the player with every card in the hand and disassociate the player with every other card.\n    for (cardId in this.cards) {\n      if (indexOf.call(hand, cardId) >= 0) {\n        this.addDiscovery(playerId, cardId, true, \"hand\");\n        changed = this.associatePlayerWithCard(playerId, cardId, changed);\n      } else {\n        this.addDiscovery(playerId, cardId, false, \"hand\");\n        changed = this.disassociatePlayerWithCard(playerId, cardId, changed);\n      }\n    }\n    return changed;\n  }\n\n  \n  // Make deductions based on the player having this cardId\n  deduceFromShow(playerId, cardId, changed) {\n    this.addDiscovery(playerId, cardId, true, \"revealed\");\n    changed = this.associatePlayerWithCard(playerId, cardId, changed);\n    return changed;\n  }\n\n  deduceFromSuggestionWithClassicRules(suggestion, changed) {\n    var cardIds, i, id, j, mustHoldId, player, playerId, ref, showedIds, suggesterId;\n    id = suggestion.id;\n    suggesterId = suggestion.playerId;\n    cardIds = suggestion.cardIds;\n    showedIds = suggestion.showedIds;\n    // You can deduce from a suggestion that:\n    //    If nobody showed a card, then none of the players (except possibly the suggester or the answer) have the cards.\n    //    Only the last player in the showed list might hold any of the suggested cards.\n    //    If the player that showed a card does not hold all but one of the cards, the player must hold the one.\n    if (showedIds === null || showedIds.length === 0) {\n      for (playerId in this.players) {\n        if (playerId !== this.ANSWER_PLAYER_ID && playerId !== suggesterId) {\n          this.addDiscoveries(playerId, cardIds, false, \"did not show a card in suggestion #\" + id);\n          changed = this.disassociatePlayerWithCards(playerId, cardIds, changed);\n        }\n      }\n    } else {\n// All but the last player have none of the cards\n      for (i = j = 0, ref = showedIds.length - 1; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {\n        playerId = showedIds[i];\n        this.addDiscoveries(playerId, cardIds, false, \"did not show a card in suggestion #\" + id);\n        changed = this.disassociatePlayerWithCards(playerId, cardIds, changed);\n      }\n      // The last player showed a card.\n      // If the player does not hold all but one of cards, the player must hold the one.\n      playerId = showedIds[showedIds.length - 1];\n      player = this.players[playerId];\n      mustHoldId = player.mustHoldOne(cardIds);\n      if (mustHoldId !== null) {\n        this.addDiscovery(playerId, mustHoldId, true, \"showed a card in suggestion #\" + id + \", and does not hold the others\");\n        changed = this.associatePlayerWithCard(playerId, mustHoldId, changed);\n      }\n    }\n    return changed;\n  }\n\n  deduceFromSuggestionWithMasterRules(suggestion, changed) {\n    var cardIds, id, mustHoldId, player, playerId, ref, showedIds, suggesterId;\n    id = suggestion.id;\n    suggesterId = suggestion.playerId;\n    cardIds = suggestion.cardIds;\n    showedIds = suggestion.showedIds;\n    ref = this.players;\n    // You can deduce from a suggestion that:\n    //    If a player shows a card but does not have all but one of the suggested cards, the player must hold the one.\n    //    If a player (other than the answer and suggester) does not show a card, the player has none of the suggested cards.\n    //    If all suggested cards are shown, then the answer and the suggester hold none of the suggested cards.\n    for (playerId in ref) {\n      player = ref[playerId];\n      // If the player showed a card ...\n      if (indexOf.call(showedIds, playerId) >= 0) {\n        // ..., then if the player does not hold all but one of the cards, the player must hold the one.\n        mustHoldId = player.mustHoldOne(cardIds);\n        if (mustHoldId !== null) {\n          this.addDiscovery(playerId, mustHoldId, true, \"showed a card in suggestion #\" + id + \", and does not hold the others\");\n          changed = this.associatePlayerWithCard(playerId, mustHoldId, changed);\n        }\n      // Otherwise, if the player is other than the answer and suggester ...\n      } else if (playerId !== this.ANSWER_PLAYER_ID && playerId !== suggesterId) {\n        // ... then they don't hold any of them.\n        this.addDiscoveries(playerId, cardIds, false, \"did not show a card in suggestion #\" + id);\n        this.disassociatePlayerWithCards(playerId, suggestion.cardIds, changed);\n      } else {\n        // Otherwise, for the answer and suggester, if 3 cards were shown ...\n        if (showedIds.length === 3) {\n          // ... then they don't hold them.\n          this.addDiscoveries(playerId, cardIds, false, \"all three cards were shown by other players in suggestion #\" + id);\n          changed = this.disassociatePlayerWithCards(playerId, cardIds, changed);\n        }\n      }\n    }\n    return changed;\n  }\n\n  makeOtherDeductions(changed) {\n    var j, len, ref, s;\n    this.addCardHoldersToDiscoveries();\n    changed = this.checkThatAnswerHoldsExactlyOneOfEach(changed);\n    // While something has changed, then keep re-applying all the suggestions\n    while (changed) {\n      changed = false;\n      ref = this.suggestions;\n      for (j = 0, len = ref.length; j < len; j++) {\n        s = ref[j];\n        changed = this.deduceFromSuggestion(s, changed);\n      }\n      this.addCardHoldersToDiscoveries();\n      changed = this.checkThatAnswerHoldsExactlyOneOfEach(changed);\n    }\n    this.addCardHoldersToDiscoveries();\n    return changed;\n  }\n\n  checkThatAnswerHoldsExactlyOneOfEach(changed) {\n    var answer, card, cardId, heldByAnswer, heldId, heldType, info, j, k, l, len, len1, len2, onlyPossible, potential, ref, ref1, typeId;\n    answer = this.players[this.ANSWER_PLAYER_ID];\n    // Find the cards that are known to be held by the answer\n    heldByAnswer = {};\n    ref = answer.potential;\n    for (j = 0, len = ref.length; j < len; j++) {\n      cardId = ref[j];\n      card = this.cards[cardId];\n      if (card.isHeldBy(this.ANSWER_PLAYER_ID)) {\n        heldByAnswer[card.info.type] = cardId;\n      }\n    }\n    // If so, then the answer can not hold any other cards of the same types\n    potential = this.ANSWER.potential.slice(0);\n    for (k = 0, len1 = potential.length; k < len1; k++) {\n      cardId = potential[k];\n      card = this.cards[cardId];\n      for (heldType in heldByAnswer) {\n        heldId = heldByAnswer[heldType];\n        if (card.info.type === heldType && cardId !== heldId) {\n          this.addDiscovery(this.ANSWER_PLAYER_ID, cardId, false, \"ANSWER can only hold one \" + heldType);\n          changed = this.disassociatePlayerWithCard(this.ANSWER_PLAYER_ID, cardId, changed);\n        }\n      }\n    }\n    // For each type, if there is only one card that might be held by the answer, then it must be held by the answer\n    onlyPossible = {};\n    ref1 = this.ANSWER.potential;\n    for (l = 0, len2 = ref1.length; l < len2; l++) {\n      cardId = ref1[l];\n      card = this.cards[cardId];\n      if (!card.isHeldBy(this.ANSWER_PLAYER_ID)) {\n        typeId = card.info.type;\n        if (onlyPossible[typeId] != null) {\n          onlyPossible[typeId].only = false;\n        } else {\n          onlyPossible[typeId] = {\n            cardId: cardId,\n            only: true\n          };\n        }\n      }\n    }\n    for (typeId in onlyPossible) {\n      info = onlyPossible[typeId];\n      if (info.only) {\n        this.addDiscovery(this.ANSWER_PLAYER_ID, info.cardId, true, \"Only \" + typeId + \" that ANSWER can hold\");\n        changed = this.associatePlayerWithCard(this.ANSWER_PLAYER_ID, info.cardId, changed);\n      }\n    }\n    return changed;\n  }\n\n  associatePlayerWithCard(playerId, cardId, changed) {\n    if (this.cards[cardId].holders.length === 1) { // Already associated\n      return changed;\n    }\n    return this.disassociateOtherPlayersWithCard(playerId, cardId, changed); // Simply remove all others as potential holders\n  }\n\n  disassociatePlayerWithCard(playerId, cardId, changed) {\n    var player;\n    player = this.players[playerId];\n    if (player.mightHold(cardId)) {\n      player.remove(cardId);\n      this.cards[cardId].remove(playerId);\n      changed = true;\n      this.addDiscovery(playerId, cardId, false); // Add this discovery, but don't log it \n    }\n    return changed;\n  }\n\n  disassociatePlayerWithCards(playerId, cardIds, changed) {\n    var id, j, len;\n    for (j = 0, len = cardIds.length; j < len; j++) {\n      id = cardIds[j];\n      //    console.log(\"disassociatePlayerWithCards: (playerId: #{playerId}, cardIds: #{cardIds}, changed: #{changed}) ->\")\n      changed = this.disassociatePlayerWithCard(playerId, id, changed);\n    }\n    return changed;\n  }\n\n  disassociateOtherPlayersWithCard(playerId, cardId, changed) {\n    var otherId;\n    for (otherId in this.players) {\n      if (otherId !== playerId) {\n        changed = this.disassociatePlayerWithCard(otherId, cardId, changed);\n      }\n    }\n    return changed;\n  }\n\n  cardIsType(cardId, type) {\n    return this.cards[cardId].info.type === type;\n  }\n\n  addDiscovery(playerId, cardId, holds, reason) {\n    var cardInfo, discovery, f, fact, j, len, ref, typeinfo;\n    ref = this.facts;\n    //    console.log(\"addDiscovery: (playerId: #{playerId}, cardId: #{cardId}, holds: #{holds}, reason: #{if reason? then reason else null})\")\n    // Check if the fact is not already known\n    //    console.log(\"addDiscovery: (playerId: #{playerId}, cardId: #{cardId}, holds: #{holds}, reason: #{if reason? then reason else null})\")\n    for (j = 0, len = ref.length; j < len; j++) {\n      f = ref[j];\n      if (f.playerId === playerId && f.cardId === cardId) {\n        return;\n      }\n    }\n    fact = {playerId, cardId, holds};\n    //    console.log(\"addDiscovery: fact: #{JSON.stringify(fact)}\")\n    this.facts.push(fact);\n    //    console.log(\"addDiscovery: facts length = #{@facts.length}\")\n    if (reason != null) {\n      cardInfo = this.cards[cardId].info;\n      typeinfo = this.types[cardInfo.type];\n      discovery = playerId + (holds ? \" holds \" : \" does not hold \") + typeinfo.article + cardInfo.name + \": \" + reason;\n      return this.discoveriesLog.push(discovery);\n    }\n  }\n\n  addDiscoveries(playerId, cardIds, holds, reason = null) {\n    var c, j, len;\n    for (j = 0, len = cardIds.length; j < len; j++) {\n      c = cardIds[j];\n      this.addDiscovery(playerId, c, holds, reason);\n    }\n  }\n\n  addCardHoldersToDiscoveries() {\n    var card, cardId, holders, ref, results;\n    ref = this.cards;\n    results = [];\n    for (cardId in ref) {\n      card = ref[cardId];\n      holders = card.holders;\n      if (holders.length === 1) {\n        results.push(this.addDiscovery(holders[0], cardId, true, \"nobody else holds it\"));\n      } else {\n        results.push(void 0);\n      }\n    }\n    return results;\n  }\n\n};\n\nexport default Solver;\n","// Generated by CoffeeScript 2.3.2\n\nimport React, { Component } from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Icon from '@material-ui/core/Icon';\n;\nvar CurrentState, HeaderRow, Maybe, No, StateElement, StateGrid, StateRow, Yes;\n\nYes = function(props) {\n  return <Icon>\n    {(props.playerId === \"ANSWER\" ? \"star\" : \"check_box\")}\n  </Icon>;\n};\n\nNo = function(props) {\n  return \"\";\n};\n\nMaybe = function(props) {\n  return <Icon color=\"disabled\">indeterminate_check_box</Icon>;\n};\n\nStateElement = function(props) {\n  var card, playerId;\n  ({card, playerId} = props);\n  if (card.isHeldBy(playerId)) {\n    return <Yes playerId={playerId} />;\n  } else if (card.mightBeHeldBy(playerId)) {\n    return <Maybe playerId={playerId} />;\n  } else {\n    return <No playerId={playerId} />;\n  }\n};\n\nHeaderRow = function(props) {\n  var playerId, players;\n  ({players} = props);\n  return <Grid container item xs={12} justify=\"center\">\n    <Grid item xs={4}><h4>Card</h4></Grid>\n    {(function() {\n    var results;\n    results = [];\n    for (playerId in players) {\n      results.push(<Grid item key={playerId} xs={1}><h4>{playerId}</h4></Grid>);\n    }\n    return results;\n  })()}\n  </Grid>;\n};\n\nStateRow = function(props) {\n  var card, playerId, players;\n  ({card, players} = props);\n  return <Grid container item xs={12} justify=\"center\">\n    <Grid item xs={4}>\n      {card.info.name}\n    </Grid>\n    {(function() {\n    var results;\n    results = [];\n    for (playerId in players) {\n      results.push(<Grid item key={playerId} xs={1}> \n          <StateElement card={card} playerId={playerId} /> \n        </Grid>);\n    }\n    return results;\n  })()}\n  </Grid>;\n};\n\nStateGrid = function(props) {\n  var card, cards, id, players;\n  ({cards, players} = props);\n  return <Grid container>\n    <HeaderRow players={players} />\n    {(function() {\n    var results;\n    results = [];\n    for (id in cards) {\n      card = cards[id];\n      results.push(<StateRow key={id} card={card} players={players} />);\n    }\n    return results;\n  })()}\n  </Grid>;\n};\n\nCurrentState = class CurrentState extends Component {\n  render() {\n    return <div>\n      <Button variant=\"contained\" color=\"primary\" onClick={this.props.app.showHandDialog}>Hand</Button>\n      <Button variant=\"contained\" color=\"primary\" onClick={this.props.app.showSuggestDialog}>Suggest</Button>\n      <Button variant=\"contained\" color=\"primary\" onClick={this.props.app.showShowDialog}>Show</Button>\n      <hr />\n      <StateGrid cards={this.props.solver.cards} players={this.props.solver.players} />\n    </div>;\n  }\n\n};\n\nexport default CurrentState;\n","// Generated by CoffeeScript 2.3.2\n\nimport React from 'react';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n;\nvar TopBar;\n\n//import { withStyles } from '@material-ui/core/styles';\nTopBar = function(props) {\n  return <AppBar position=\"static\">\n    <Toolbar>\n      <IconButton color=\"inherit\" onClick={(event) => {\n      return props.app.showMainMenu(event.currentTarget);\n    }}>\n        <MenuIcon />\n      </IconButton>\n      <Typography variant=\"h6\" color=\"inherit\">\n        Not A Clue\n      </Typography>\n    </Toolbar>\n  </AppBar>;\n};\n\nexport default TopBar;\n","// Generated by CoffeeScript 2.3.2\n\nimport React, { Component } from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n;\nvar ConfirmDialog,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } };\n\nConfirmDialog = class ConfirmDialog extends Component {\n  constructor() {\n    super(...arguments);\n    this.handleYes = this.handleYes.bind(this);\n    this.handleNo = this.handleNo.bind(this);\n  }\n\n  handleYes() {\n    boundMethodCheck(this, ConfirmDialog);\n    console.log(\"ConfirmDialog::handleYes\");\n    this.props.onClose();\n    if (this.props.yesAction != null) {\n      return this.props.yesAction();\n    }\n  }\n\n  handleNo() {\n    boundMethodCheck(this, ConfirmDialog);\n    console.log(\"ConfirmDialog::handleNo\");\n    this.props.onClose();\n    if (this.props.noAction != null) {\n      return this.props.noAction();\n    }\n  }\n\n  render() {\n    console.log(`ConfirmDialog::render ${this.props.open}`);\n    return <Dialog open={this.props.open} onClose={this.props.onClose}>\n      <DialogTitle id=\"form-dialog-title\">Please Confirm</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {this.props.question}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        {(this.props.noAction != null ? <Button variant=\"contained\" color=\"primary\" onClick={this.handleNo}>{(this.props.yesAction != null ? \"No\" : \"Cancel\")}</Button> : void 0)}\n        {((this.props.yesAction != null) || !this.props.noAction ? <Button variant=\"contained\" color=\"primary\" onClick={this.handleYes}>{(this.props.noAction != null ? \"Yes\" : \"Ok\")}</Button> : void 0)}\n      </DialogActions>\n    </Dialog>;\n  }\n\n};\n\nexport default ConfirmDialog;\n","// Generated by CoffeeScript 2.3.2\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\n\nimport React, { Component } from 'react';\n;\nvar CardChoices, CardList, GroupedCardList, MultipleCardChooser,\n  indexOf = [].indexOf,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } };\n\nGroupedCardList = function(props) {\n  var cards, id, selectedIds, typeId;\n  ({selectedIds, typeId, cards} = props);\n  return <ul>\n    {(function() {\n    var i, len, results;\n    results = [];\n    for (i = 0, len = selectedIds.length; i < len; i++) {\n      id = selectedIds[i];\n      if (cards[id].type === typeId) {\n        results.push(<li key={id}>\n          {cards[id].name}\n        </li>);\n      }\n    }\n    return results;\n  })()}\n  </ul>;\n};\n\nCardList = function(props) {\n  var cards, selectedIds, typeId, types, value;\n  ({selectedIds, cards, types} = props);\n  return <ul>\n    {(function() {\n    var results;\n    results = [];\n    for (typeId in types) {\n      value = types[typeId];\n      results.push(<li key={typeId}>\n          <b> {value.title} </b>\n          <GroupedCardList selectedIds={selectedIds} typeId={typeId} cards={cards} />\n        </li>);\n    }\n    return results;\n  })()}\n  </ul>;\n};\n\nCardChoices = function(props) {\n  var id, info;\n  return <FormGroup row>\n    {(function() {\n    var ref, results;\n    ref = props.cards;\n    results = [];\n    for (id in ref) {\n      info = ref[id];\n      if (info.type === props.type) {\n        results.push(<FormControlLabel key={id} control={<Checkbox checked={indexOf.call(props.value, id) >= 0} disabled={indexOf.call(props.excluded, id) >= 0} onChange={props.onChange(id)} value={id} />} label={info.name} />);\n      }\n    }\n    return results;\n  })()}\n  </FormGroup>;\n};\n\nMultipleCardChooser = class MultipleCardChooser extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChangeTab = this.handleChangeTab.bind(this);\n    this.handleChangeCards = this.handleChangeCards.bind(this);\n    this.state = {\n      currentTab: 0\n    };\n  }\n\n  handleChangeTab(event, currentTab) {\n    boundMethodCheck(this, MultipleCardChooser);\n    console.log(`MultipleCardChooser::handleChangeTab: (event, ${currentTab})`);\n    return this.setState({currentTab});\n  }\n\n  handleChangeCards(cardId) {\n    boundMethodCheck(this, MultipleCardChooser);\n    return (event) => {\n      console.log(`MultipleCardChooser::handleChangeCards: (${cardId}, ${event.target.checked})`);\n      return this.props.onChange(cardId, event.target.checked);\n    };\n  }\n\n  render() {\n    var cards, excluded, id, tabId, tabIds, tabIndex, types, value;\n    ({value, cards, types, excluded} = this.props);\n    tabIds = (function() {\n      var results;\n      results = [];\n      for (id in types) {\n        results.push(id);\n      }\n      return results;\n    })();\n    tabIndex = this.state.currentTab >= 0 && this.state.currentTab < tabIds.length ? this.state.currentTab : 0;\n    tabId = tabIds[tabIndex];\n    return <div>\n      <AppBar position=\"static\">\n        <Tabs value={tabIndex} onChange={this.handleChangeTab}>\n          {(function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = tabIds.length; i < len; i++) {\n        id = tabIds[i];\n        results.push(<Tab key={id} label={types[id].title} />);\n      }\n      return results;\n    })()}\n        </Tabs>\n      </AppBar>\n      <CardChoices value={value} cards={cards} excluded={excluded} type={tabId} onChange={this.handleChangeCards} />\n      <h4>Selected Cards:</h4>\n      <CardList selectedIds={value} cards={cards} types={types} />\n    </div>;\n  }\n\n};\n\nexport default MultipleCardChooser;\n","// Generated by CoffeeScript 2.3.2\n\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport React from 'react';\n;\nvar PlayerChoices, PlayerChooser;\n\nPlayerChoices = function(props) {\n  var id;\n  console.log(`PlayerChoices (render): (${props.value}, [${props.playerIds}])`);\n  return <RadioGroup row name=\"players\" value={props.value} onChange={props.onChange}>\n    {(function() {\n    var i, len, ref, results;\n    ref = props.playerIds;\n    results = [];\n    for (i = 0, len = ref.length; i < len; i++) {\n      id = ref[i];\n      results.push(<FormControlLabel key={id} value={id} control={<Radio />} label={id} />);\n    }\n    return results;\n  })()}\n  </RadioGroup>;\n};\n\nPlayerChooser = function(props) {\n  console.log(`PlayerChoooser (render): (${props.value}, [${props.playerIds}])`);\n  return <FormControl component=\"fieldset\">\n    <PlayerChoices value={props.value} playerIds={props.playerIds} onChange={function(event) {\n      return props.onChange(event.target.value);\n    }} />\n  </FormControl>;\n};\n\nexport default PlayerChooser;\n","// Generated by CoffeeScript 2.3.2\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport PropTypes from 'prop-types'\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\n;\nvar AddPlayerInput, ConfigurationChoices, ConfigurationChooser, PlayerList, Players, SetupDialog,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } },\n  indexOf = [].indexOf;\n\nConfigurationChoices = function(props) {\n  var key, value;\n  return <RadioGroup row name=\"variations\" value={props.configurationId} onChange={props.onChange}>\n    {(function() {\n    var ref, results;\n    ref = props.configurations;\n    results = [];\n    for (key in ref) {\n      value = ref[key];\n      results.push(<FormControlLabel key={key} value={key} control={<Radio />} label={value.name} />);\n    }\n    return results;\n  })()}\n  </RadioGroup>;\n};\n\nConfigurationChooser = function(props) {\n  return <FormControl component=\"fieldset\">\n      <FormLabel component=\"legend\"><h4>Select a variation:</h4></FormLabel>\n      <ConfigurationChoices configurationId={props.configurationId} configurations={props.configurations} onChange={function(event) {\n      return props.onChange(event.target.value);\n    }} />\n    </FormControl>;\n};\n\nAddPlayerInput = class AddPlayerInput extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleAddPlayer = this.handleAddPlayer.bind(this);\n    this.state = {\n      playerId: ''\n    };\n  }\n\n  handleChange(event) {\n    boundMethodCheck(this, AddPlayerInput);\n    //    console.log(\"AddPlayerInput::handleChange\")\n    return this.setState({\n      playerId: event.target.value\n    });\n  }\n\n  handleAddPlayer() {\n    var ref;\n    boundMethodCheck(this, AddPlayerInput);\n    if (this.state.playerId !== \"\" && (ref = this.state.playerId, indexOf.call(this.props.playerIds, ref) < 0)) {\n      //    console.log(\"AddPlayerInput::handleAddPlayer\")\n      this.props.onAddPlayer(this.state.playerId);\n    }\n    return this.setState({\n      playerId: ''\n    });\n  }\n\n  render() {\n    return <div>\n      <TextField autoFocus margin=\"normal\" value={this.state.playerId} onChange={this.handleChange} />\n      <Button disabled={this.props.count >= this.props.max} variant=\"contained\" color=\"primary\" onClick={this.handleAddPlayer}>\n        Add\n      </Button>\n    </div>;\n  }\n\n};\n\nAddPlayerInput.propTypes = {\n  playerIds: PropTypes.arrayOf(PropTypes.string).isRequired,\n  count: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired,\n  onAddPlayer: PropTypes.func.isRequired\n};\n\nPlayerList = function(props) {\n  return <ul>\n      {props.names.map((playerId) => {\n    return <li key={playerId}>{playerId}</li>;\n  })}\n    </ul>;\n};\n\nPlayerList.defaultProps = {\n  names: []\n};\n\nPlayers = function(props) {\n  return <div>\n      <AddPlayerInput playerIds={props.playerIds} count={props.playerIds.length} max={props.max} onAddPlayer={props.onAddPlayer} />\n      <PlayerList names={props.playerIds} />\n      <Button variant=\"contained\" color=\"primary\" onClick={props.onClearPlayers}>Clear Players</Button>\n    </div>;\n};\n\nSetupDialog = class SetupDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.handleAddPlayer = this.handleAddPlayer.bind(this);\n    this.handleClearPlayers = this.handleClearPlayers.bind(this);\n    this.handleChangeConfiguration = this.handleChangeConfiguration.bind(this);\n    this.handleDone = this.handleDone.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.state = {\n      playerIds: [],\n      configurationId: this.props.configurationId\n    };\n  }\n\n  handleAddPlayer(playerId) {\n    boundMethodCheck(this, SetupDialog);\n    //    console.log(\"SetupDialog::handleAddPlayer(#{playerId})\")\n    return this.setState(function(state, props) {\n      return {\n        playerIds: state.playerIds.concat([playerId])\n      };\n    });\n  }\n\n  handleClearPlayers() {\n    boundMethodCheck(this, SetupDialog);\n    //    console.log(\"SetupDialog::handleClearPlayers\")\n    return this.setState({\n      playerIds: []\n    });\n  }\n\n  handleChangeConfiguration(configurationId) {\n    boundMethodCheck(this, SetupDialog);\n    //    console.log(\"SetupDialog::handleChangeConfiguration(#{configurationId})\")\n    return this.setState({configurationId});\n  }\n\n  handleDone() {\n    boundMethodCheck(this, SetupDialog);\n    //    console.log(\"SetupDialog::handleDone\")\n    this.props.onClose();\n    return this.props.app.newGame(this.state.configurationId, this.state.playerIds);\n  }\n\n  handleCancel() {\n    boundMethodCheck(this, SetupDialog);\n    //    console.log(\"SetupDialog::handleCancel\")\n    return this.props.onClose();\n  }\n\n  render() {\n    var maxPlayers, minPlayers, numPlayers;\n    numPlayers = this.state.playerIds.length;\n    minPlayers = this.props.configurations[this.state.configurationId].minPlayers;\n    maxPlayers = this.props.configurations[this.state.configurationId].maxPlayers;\n    return <Dialog open={this.props.open} onClose={this.props.onClose}>\n      <DialogTitle id=\"form-dialog-title\">New Game</DialogTitle>\n      <DialogContent>\n        <ConfigurationChooser configurationId={this.state.configurationId} configurations={this.props.configurations} onChange={this.handleChangeConfiguration} />\n        <Divider />\n        <DialogContentText><h4>Add players:</h4></DialogContentText>\n        <Players playerIds={this.state.playerIds} max={maxPlayers} onAddPlayer={this.handleAddPlayer} onClearPlayers={this.handleClearPlayers} />\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"contained\" color=\"primary\" onClick={this.handleCancel}>Cancel</Button>\n        <Button disabled={numPlayers < minPlayers} variant=\"contained\" color=\"primary\" onClick={this.handleDone}>\n          Done\n        </Button>\n      </DialogActions>\n    </Dialog>;\n  }\n\n};\n\nexport default SetupDialog;\n","// Generated by CoffeeScript 2.3.2\n\nimport MultipleCardChooser from './MultipleCardChooser'\nimport PlayerChooser from './PlayerChooser'\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport React, { Component } from 'react';\n;\nvar HandDialog,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } },\n  indexOf = [].indexOf;\n\nHandDialog = class HandDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChangePlayer = this.handleChangePlayer.bind(this);\n    this.handleChangeCards = this.handleChangeCards.bind(this);\n    this.handleDone = this.handleDone.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.state = {\n      playerId: null,\n      cardIds: []\n    };\n  }\n\n  handleChangePlayer(playerId) {\n    boundMethodCheck(this, HandDialog);\n    console.log(`HandDialog::handleChangePlayer: (${playerId})`);\n    return this.setState({playerId});\n  }\n\n  handleChangeCards(cardId, selected) {\n    boundMethodCheck(this, HandDialog);\n    console.log(`HandDialog::handleChangeCards: (${cardId}, ${selected})`);\n    if (selected) {\n      return this.setState(function(state, props) {\n        if (indexOf.call(state.cardIds, cardId) < 0) {\n          return {\n            cardIds: state.cardIds.concat([cardId])\n          };\n        } else {\n          return null;\n        }\n      });\n    } else {\n      return this.setState(function(state, props) {\n        var id;\n        if (indexOf.call(state.cardIds, cardId) >= 0) {\n          return {\n            cardIds: (function() {\n              var i, len, ref, results;\n              ref = state.cardIds;\n              results = [];\n              for (i = 0, len = ref.length; i < len; i++) {\n                id = ref[i];\n                if (id !== cardId) {\n                  results.push(id);\n                }\n              }\n              return results;\n            })()\n          };\n        } else {\n          return null;\n        }\n      });\n    }\n  }\n\n  handleDone() {\n    boundMethodCheck(this, HandDialog);\n    console.log(\"HandDialog::handleDone\");\n    this.props.onClose();\n    if ((this.state.playerId != null) && this.state.cardIds.length > 0) {\n      this.props.app.recordHand(this.state.playerId, this.state.cardIds);\n    } else {\n      this.props.app.showConfirmDialog(\"You must select a player and at least one card\");\n    }\n    return this.setState({\n      playerId: null,\n      cardIds: []\n    });\n  }\n\n  handleCancel() {\n    boundMethodCheck(this, HandDialog);\n    console.log(\"HandDialog::handleCancel\");\n    this.props.onClose();\n    return this.setState({\n      playerId: null,\n      cardIds: []\n    });\n  }\n\n  render() {\n    console.log(`HandDialog::render ${this.props.open}`);\n    return <Dialog open={this.props.open} fullscreen=\"true\" onClose={this.handleCancel}>\n      <DialogTitle id=\"form-dialog-title\">Record Hand</DialogTitle>\n      <DialogContent>\n        <DialogContentText><h4>Which player?</h4></DialogContentText>\n        <PlayerChooser value={this.state.playerId} playerIds={this.props.playerIds} onChange={this.handleChangePlayer} />\n        <Divider />\n        <DialogContentText><h4>Select the cards in the player's hand:</h4></DialogContentText>\n        <MultipleCardChooser value={this.state.cardIds} cards={this.props.configuration.cards} types={this.props.configuration.types} excluded={[]} onChange={this.handleChangeCards} />\n     </DialogContent>\n      <DialogActions>\n        <Button variant=\"contained\" color=\"primary\" onClick={this.handleCancel}>Cancel</Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={this.handleDone}>Done</Button>\n      </DialogActions>\n    </Dialog>;\n  }\n\n};\n\nexport default HandDialog;\n","// Generated by CoffeeScript 2.3.2\n\nimport React, { Component } from 'react';\n\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\n;\nvar MainMenu,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } };\n\nMainMenu = class MainMenu extends Component {\n  constructor() {\n    super(...arguments);\n    this.handleStart = this.handleStart.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n  }\n\n  handleStart() {\n    boundMethodCheck(this, MainMenu);\n    //    console.log(\"MainMenu::handleStart\")\n    this.props.onClose();\n    return this.props.app.showNewGameDialog();\n  }\n\n  handleClear() {\n    boundMethodCheck(this, MainMenu);\n    //    console.log(\"MainMenu::handleClearGame\")\n    this.props.onClose();\n    return this.props.app.showConfirmDialog(\"Are you sure you want to clear the current game?\", this.props.app.clearGame, function() {\n      return {};\n    });\n  }\n\n  render() {\n    return <Menu id=\"main-menu\" anchorEl={this.props.anchor} open={Boolean(this.props.anchor)} onClose={this.props.onClose}>\n      <MenuItem onClick={this.handleStart}>Start New Game</MenuItem>\n      <MenuItem onClick={this.handleClear}>Clear Current Game</MenuItem>\n    </Menu>;\n  }\n\n};\n\nexport default MainMenu;\n","// Generated by CoffeeScript 2.3.2\n\nimport AppBar from '@material-ui/core/AppBar';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\n\nimport React, { Component } from 'react';\n;\nvar CardChoices, CardChooser,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } };\n\nCardChoices = function(props) {\n  var id, info;\n  console.log(`CardChoices (render): (${props.value}, ${props.type})`);\n  return <RadioGroup row name=\"cards\" value={props.value} onChange={props.onChange}>\n    {(function() {\n    var ref, results;\n    ref = props.cards;\n    results = [];\n    for (id in ref) {\n      info = ref[id];\n      if (info.type === props.type) {\n        results.push(<FormControlLabel key={id} value={id} control={<Radio />} label={info.name} />);\n      }\n    }\n    return results;\n  })()}\n  </RadioGroup>;\n};\n\nCardChooser = class CardChooser extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChangeTab = this.handleChangeTab.bind(this);\n    this.state = {\n      currentTab: 0\n    };\n  }\n\n  handleChangeTab(event, currentTab) {\n    boundMethodCheck(this, CardChooser);\n    console.log(`CardChooser::handleChangeTab: (event, ${currentTab})`);\n    return this.setState({currentTab});\n  }\n\n  render() {\n    var cards, id, tabId, tabIds, tabIndex, types, value;\n    ({value, cards, types} = this.props);\n    tabIds = (function() {\n      var results;\n      results = [];\n      for (id in types) {\n        results.push(id);\n      }\n      return results;\n    })();\n    tabIndex = this.state.currentTab >= 0 && this.state.currentTab < tabIds.length ? this.state.currentTab : 0;\n    tabId = tabIds[tabIndex];\n    return <div>\n      <AppBar position=\"static\">\n        <Tabs value={tabIndex} onChange={this.handleChangeTab}>\n          {(function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = tabIds.length; i < len; i++) {\n        id = tabIds[i];\n        results.push(<Tab key={id} label={types[id].title} />);\n      }\n      return results;\n    })()}\n        </Tabs>\n      </AppBar>\n      <FormControl component=\"fieldset\">\n        <CardChoices value={value} type={tabId} cards={cards} onChange={(event) => {\n        return this.props.onChange(event.target.value);\n      }} />\n      </FormControl>\n    </div>;\n  }\n\n};\n\nexport default CardChooser;\n","// Generated by CoffeeScript 2.3.2\n\nimport AppBar from '@material-ui/core/AppBar';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\n\nimport React, { Component } from 'react';\n;\nvar CardChoices, CardList, PerCategoryCardChooser,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } };\n\nCardList = function(props) {\n  var cards, selectedIds, typeId, types, value;\n  ({selectedIds, cards, types} = props);\n  return <ul>\n    {(function() {\n    var results;\n    results = [];\n    for (typeId in types) {\n      value = types[typeId];\n      results.push(<li key={typeId}>\n          <b> {value.title}: </b> {(selectedIds[typeId] != null ? cards[selectedIds[typeId]].name : void 0)}\n        </li>);\n    }\n    return results;\n  })()}\n  </ul>;\n};\n\nCardChoices = function(props) {\n  var id, info;\n  console.log(`CardChoices (render): (${props.value}, [${props.typeId}])`);\n  return <RadioGroup row name=\"cards\" value={props.value} onChange={props.onChange}>\n    {(function() {\n    var ref, results;\n    ref = props.cards;\n    results = [];\n    for (id in ref) {\n      info = ref[id];\n      if (info.type === props.typeId) {\n        results.push(<FormControlLabel key={id} value={id} control={<Radio />} label={info.name} />);\n      }\n    }\n    return results;\n  })()}\n  </RadioGroup>;\n};\n\nPerCategoryCardChooser = class PerCategoryCardChooser extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChangeTab = this.handleChangeTab.bind(this);\n    this.handleChangeCards = this.handleChangeCards.bind(this);\n    this.state = {\n      currentTab: 0\n    };\n  }\n\n  handleChangeTab(event, currentTab) {\n    boundMethodCheck(this, PerCategoryCardChooser);\n    console.log(`CardChooser::handleChangeTab: (event, ${currentTab})`);\n    return this.setState({currentTab});\n  }\n\n  handleChangeCards(typeId) {\n    boundMethodCheck(this, PerCategoryCardChooser);\n    return (event) => {\n      console.log(`CardChooser::handleChangeCards: (${typeId}, ${event.target.value})`);\n      return this.props.onChange(typeId, event.target.value);\n    };\n  }\n\n  render() {\n    var cards, id, tabId, tabIds, tabIndex, types, value;\n    ({value, cards, types} = this.props);\n    tabIds = (function() {\n      var results;\n      results = [];\n      for (id in types) {\n        results.push(id);\n      }\n      return results;\n    })();\n    tabIndex = this.state.currentTab >= 0 && this.state.currentTab < tabIds.length ? this.state.currentTab : 0;\n    tabId = tabIds[tabIndex];\n    return <div>\n      <AppBar position=\"static\">\n        <Tabs value={tabIndex} onChange={this.handleChangeTab}>\n          {(function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = tabIds.length; i < len; i++) {\n        id = tabIds[i];\n        results.push(<Tab key={id} label={types[id].title} />);\n      }\n      return results;\n    })()}\n        </Tabs>\n      </AppBar>\n      <CardChoices value={value[tabId]} cards={cards} typeId={tabId} onChange={this.handleChangeCards(tabId)} />\n      <h4>Selected Cards:</h4>\n      <CardList selectedIds={value} cards={cards} types={types} />\n    </div>;\n  }\n\n};\n\nexport default PerCategoryCardChooser;\n","// Generated by CoffeeScript 2.3.2\n\nimport PlayerChooser from './PlayerChooser'\nimport CardChooser from './CardChooser'\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\n\nimport React, { Component } from 'react';\n;\nvar ShowDialog,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } };\n\nShowDialog = class ShowDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChangePlayer = this.handleChangePlayer.bind(this);\n    this.handleChangeCard = this.handleChangeCard.bind(this);\n    this.handleDone = this.handleDone.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.state = {\n      playerId: null,\n      cardId: null\n    };\n  }\n\n  handleChangePlayer(playerId) {\n    boundMethodCheck(this, ShowDialog);\n    console.log(`ShowDialog::handleChangePlayer: (${playerId})`);\n    return this.setState({playerId});\n  }\n\n  handleChangeCard(cardId) {\n    boundMethodCheck(this, ShowDialog);\n    console.log(`ShowDialog::handleChangeCard: (${cardId})`);\n    return this.setState({cardId});\n  }\n\n  handleDone() {\n    boundMethodCheck(this, ShowDialog);\n    console.log(\"ShowDialog::handleDone\");\n    this.props.onClose();\n    if ((this.state.playerId != null) && (this.state.cardId != null)) {\n      this.props.app.recordShown(this.state.playerId, this.state.cardId);\n    } else {\n      this.props.app.showConfirmDialog(\"You must select a player and a card\");\n    }\n    return this.setState({\n      playerId: null,\n      cardId: null\n    });\n  }\n\n  handleCancel() {\n    boundMethodCheck(this, ShowDialog);\n    console.log(\"ShowDialog::handleCancel\");\n    this.props.onClose();\n    return this.setState({\n      playerId: null,\n      cardId: null\n    });\n  }\n\n  render() {\n    return <Dialog open={this.props.open} onClose={this.props.onClose}>\n      <DialogTitle id=\"form-dialog-title\">Record A Shown Card</DialogTitle>\n      <DialogContent>\n        <DialogContentText><h4>Who showed the card?</h4></DialogContentText>\n        <PlayerChooser value={this.state.playerId} playerIds={this.props.playerIds} onChange={this.handleChangePlayer} />\n        <Divider />\n        <DialogContentText><h4>What card did they show?</h4></DialogContentText>\n        <CardChooser value={this.state.cardId} cards={this.props.configuration.cards} types={this.props.configuration.types} onChange={this.handleChangeCard} />\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"contained\" color=\"primary\" onClick={this.handleCancel}>Cancel</Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={this.handleDone}>Done</Button>\n      </DialogActions>\n    </Dialog>;\n  }\n\n};\n\nexport default ShowDialog;\n","// Generated by CoffeeScript 2.3.2\n\nimport Solver from './Solver'\nimport TopBar from './TopBar'\n\nimport ConfirmDialog from './ConfirmDialog'\nimport CurrentState from './CurrentState'\nimport HandDialog from './HandDialog'\nimport MainMenu from './MainMenu'\nimport React, { Component } from 'react';\nimport SetupDialog from './SetupDialog'\nimport ShowDialog from './ShowDialog'\nimport SuggestDialog from './SuggestDialog'\n;\nvar App, classic, configurations, haunted_mansion, master_detective,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } };\n\nclassic = {\n  name: \"Classic\",\n  rulesId: \"classic\",\n  minPlayers: 3,\n  maxPlayers: 6,\n  types: {\n    suspect: {\n      title: \"Suspects\",\n      preposition: \"\",\n      article: \"\"\n    },\n    weapon: {\n      title: \"Weapons\",\n      preposition: \"with \",\n      article: \"the \"\n    },\n    room: {\n      title: \"Rooms\",\n      preposition: \"in \",\n      article: \"the \"\n    }\n  },\n  cards: {\n    mustard: {\n      name: \"Colonel Mustard\",\n      type: \"suspect\"\n    },\n    white: {\n      name: \"Mrs. White\",\n      type: \"suspect\"\n    },\n    plum: {\n      name: \"Professor Plum\",\n      type: \"suspect\"\n    },\n    peacock: {\n      name: \"Mrs. Peacock\",\n      type: \"suspect\"\n    },\n    green: {\n      name: \"Mr. Green\",\n      type: \"suspect\"\n    },\n    scarlet: {\n      name: \"Miss Scarlet\",\n      type: \"suspect\"\n    },\n    revolver: {\n      name: \"Revolver\",\n      type: \"weapon\"\n    },\n    knife: {\n      name: \"Knife\",\n      type: \"weapon\"\n    },\n    rope: {\n      name: \"Rope\",\n      type: \"weapon\"\n    },\n    pipe: {\n      name: \"Lead pipe\",\n      type: \"weapon\"\n    },\n    wrench: {\n      name: \"Wrench\",\n      type: \"weapon\"\n    },\n    candlestick: {\n      name: \"Candlestick\",\n      type: \"weapon\"\n    },\n    dining: {\n      name: \"Dining Room\",\n      type: \"room\"\n    },\n    conservatory: {\n      name: \"Conservatory\",\n      type: \"room\"\n    },\n    kitchen: {\n      name: \"Kitchen\",\n      type: \"room\"\n    },\n    study: {\n      name: \"Study\",\n      type: \"room\"\n    },\n    library: {\n      name: \"Library\",\n      type: \"room\"\n    },\n    billiard: {\n      name: \"Billiards Room\",\n      type: \"room\"\n    },\n    lounge: {\n      name: \"Lounge\",\n      type: \"room\"\n    },\n    ballroom: {\n      name: \"Ballroom\",\n      type: \"room\"\n    },\n    hall: {\n      name: \"Hall\",\n      type: \"room\"\n    }\n  },\n  suggestion: [\"suspect\", \"weapon\", \"room\"]\n};\n\nmaster_detective = {\n  name: \"Master Detective\",\n  rulesId: \"master\",\n  minPlayers: 3,\n  maxPlayers: 10,\n  types: {\n    suspect: {\n      title: \"Suspects\",\n      preposition: \"\",\n      article: \"\"\n    },\n    weapon: {\n      title: \"Weapons\",\n      preposition: \"with \",\n      article: \"the \"\n    },\n    room: {\n      title: \"Rooms\",\n      preposition: \"in \",\n      article: \"the \"\n    }\n  },\n  cards: {\n    mustard: {\n      name: \"Colonel Mustard\",\n      type: \"suspect\"\n    },\n    white: {\n      name: \"Mrs. White\",\n      type: \"suspect\"\n    },\n    plum: {\n      name: \"Professor Plum\",\n      type: \"suspect\"\n    },\n    peacock: {\n      name: \"Mrs. Peacock\",\n      type: \"suspect\"\n    },\n    green: {\n      name: \"Mr. Green\",\n      type: \"suspect\"\n    },\n    scarlet: {\n      name: \"Miss Scarlet\",\n      type: \"suspect\"\n    },\n    rose: {\n      name: \"Madame Rose\",\n      type: \"suspect\"\n    },\n    gray: {\n      name: \"Sergeant Gray\",\n      type: \"suspect\"\n    },\n    brunette: {\n      name: \"Monsieur Brunette\",\n      type: \"suspect\"\n    },\n    peach: {\n      name: \"Miss Peach\",\n      type: \"suspect\"\n    },\n    revolver: {\n      name: \"Revolver\",\n      type: \"weapon\"\n    },\n    knife: {\n      name: \"Knife\",\n      type: \"weapon\"\n    },\n    rope: {\n      name: \"Rope\",\n      type: \"weapon\"\n    },\n    pipe: {\n      name: \"Pipe\",\n      type: \"weapon\"\n    },\n    wrench: {\n      name: \"Wrench\",\n      type: \"weapon\"\n    },\n    candlestick: {\n      name: \"Candlestick\",\n      type: \"weapon\"\n    },\n    poison: {\n      name: \"Poison\",\n      type: \"weapon\"\n    },\n    horseshoe: {\n      name: \"Horseshoe\",\n      type: \"weapon\"\n    },\n    dining: {\n      name: \"Dining Room\",\n      type: \"room\"\n    },\n    conservatory: {\n      name: \"Conservatory\",\n      type: \"room\"\n    },\n    kitchen: {\n      name: \"Kitchen\",\n      type: \"room\"\n    },\n    studio: {\n      name: \"Studio\",\n      type: \"room\"\n    },\n    library: {\n      name: \"Library\",\n      type: \"room\"\n    },\n    billiard: {\n      name: \"Billiard Room\",\n      type: \"room\"\n    },\n    courtyard: {\n      name: \"Courtyard\",\n      type: \"room\"\n    },\n    gazebo: {\n      name: \"Gazebo\",\n      type: \"room\"\n    },\n    drawing: {\n      name: \"Drawing Room\",\n      type: \"room\"\n    },\n    carriage: {\n      name: \"Carriage House\",\n      type: \"room\"\n    },\n    trophy: {\n      name: \"Trophy Room\",\n      type: \"room\"\n    },\n    fountain: {\n      name: \"Fountain\",\n      type: \"room\"\n    }\n  },\n  suggestion: [\"suspect\", \"weapon\", \"room\"]\n};\n\nhaunted_mansion = {\n  name: \"Haunted Mansion\",\n  rulesId: \"classic\",\n  minPlayers: 3,\n  maxPlayers: 6,\n  types: {\n    guest: {\n      title: \"Guests\",\n      preposition: \"haunted \",\n      article: \"\"\n    },\n    ghost: {\n      title: \"Ghosts\",\n      preposition: \"\",\n      article: \"the \"\n    },\n    room: {\n      title: \"Rooms\",\n      preposition: \"in \",\n      article: \"the \"\n    }\n  },\n  cards: {\n    pluto: {\n      name: \"Pluto\",\n      type: \"guest\"\n    },\n    daisy: {\n      name: \"Daisy Duck\",\n      type: \"guest\"\n    },\n    goofy: {\n      name: \"Goofy\",\n      type: \"guest\"\n    },\n    donald: {\n      name: \"Donald Duck\",\n      type: \"guest\"\n    },\n    minnie: {\n      name: \"Minnie Mouse\",\n      type: \"guest\"\n    },\n    mickey: {\n      name: \"Mickey Mouse\",\n      type: \"guest\"\n    },\n    prisoner: {\n      name: \"Prisoner\",\n      type: \"ghost\"\n    },\n    singer: {\n      name: \"Opera Singer\",\n      type: \"ghost\"\n    },\n    bride: {\n      name: \"Bride\",\n      type: \"ghost\"\n    },\n    traveler: {\n      name: \"Traveler\",\n      type: \"ghost\"\n    },\n    mariner: {\n      name: \"Mariner\",\n      type: \"ghost\"\n    },\n    skeleton: {\n      name: \"Candlestick\",\n      type: \"ghost\"\n    },\n    graveyard: {\n      name: \"Graveyard\",\n      type: \"room\"\n    },\n    seance: {\n      name: \"Seance Room\",\n      type: \"room\"\n    },\n    ballroom: {\n      name: \"Ballroom\",\n      type: \"room\"\n    },\n    attic: {\n      name: \"Attic\",\n      type: \"room\"\n    },\n    mausoleum: {\n      name: \"Mausoleum\",\n      type: \"room\"\n    },\n    conservatory: {\n      name: \"Conservatory\",\n      type: \"room\"\n    },\n    library: {\n      name: \"Library\",\n      type: \"room\"\n    },\n    foyer: {\n      name: \"Foyer\",\n      type: \"room\"\n    },\n    chamber: {\n      name: \"Portrait Chamber\",\n      type: \"room\"\n    }\n  },\n  suggestion: [\"ghost\", \"guest\", \"room\"]\n};\n\nconfigurations = {\n  classic: classic,\n  master_detective: master_detective,\n  haunted_mansion: haunted_mansion\n};\n\nApp = class App extends Component {\n  constructor(props) {\n    super(props);\n    this.newGame = this.newGame.bind(this);\n    this.clearGame = this.clearGame.bind(this);\n    this.recordHand = this.recordHand.bind(this);\n    this.recordSuggestion = this.recordSuggestion.bind(this);\n    this.recordShown = this.recordShown.bind(this);\n    this.showHandDialog = this.showHandDialog.bind(this);\n    this.showSuggestDialog = this.showSuggestDialog.bind(this);\n    this.showShowDialog = this.showShowDialog.bind(this);\n    this.handleShowDialogClose = this.handleShowDialogClose.bind(this);\n    this.showNewGameDialog = this.showNewGameDialog.bind(this);\n    this.handleNewGameDialogClose = this.handleNewGameDialogClose.bind(this);\n    this.showConfirmDialog = this.showConfirmDialog.bind(this);\n    this.handleConfirmDialogClose = this.handleConfirmDialogClose.bind(this);\n    this.state = {\n      playerIds: [],\n      configurationId: \"master_detective\",\n      solver: null,\n      progress: 0,\n      mainMenuAnchor: null,\n      handDialogOpen: false,\n      suggestDialogOpen: false,\n      showDialogOpen: false,\n      newGameDialogOpen: false,\n      confirmDialog: {\n        open: false,\n        question: '',\n        yesAction: null,\n        noAction: null\n      }\n    };\n  }\n\n  newGame(configurationId, playerIds) {\n    boundMethodCheck(this, App);\n    console.log(`App::newGame(${configurationId}, ${playerIds})`);\n    return this.setState({\n      playerIds: playerIds,\n      configurationId: configurationId,\n      solver: new Solver(configurations[configurationId], playerIds),\n      progress: 0\n    });\n  }\n\n  clearGame() {\n    boundMethodCheck(this, App);\n    console.log(\"App::clearGame\");\n    return this.setState({\n      solver: null,\n      progress: 0\n    });\n  }\n\n  recordHand(playerId, cardsIds) {\n    boundMethodCheck(this, App);\n    console.log(`App::recordHand(${playerId}, [${cardsIds}])`);\n    if (this.state.solver != null) {\n      this.state.solver.hand(playerId, cardsIds);\n      return this.setState(function(state, props) {\n        return {\n          progress: state.progress + 1\n        };\n      });\n    }\n  }\n\n  recordSuggestion(suggesterId, cardIds, showedIds) {\n    boundMethodCheck(this, App);\n    console.log(`App::recordSuggestion(${suggesterId}, [${cardIds}], [${showedIds}], ${this.state.progress})`);\n    if (this.state.solver != null) {\n      this.state.solver.suggest(suggesterId, cardIds, showedIds, this.state.progress);\n      return this.setState(function(state, props) {\n        return {\n          progress: state.progress + 1\n        };\n      });\n    }\n  }\n\n  recordShown(playerId, cardId) {\n    boundMethodCheck(this, App);\n    console.log(`App::recordShown(${playerId}, ${cardId})`);\n    if (this.state.solver != null) {\n      this.state.solver.show(playerId, cardId);\n      return this.setState(function(state, props) {\n        return {\n          progress: state.progress + 1\n        };\n      });\n    }\n  }\n\n  showMainMenu(anchor) {\n    return this.setState({\n      mainMenuAnchor: anchor\n    });\n  }\n\n  showHandDialog() {\n    boundMethodCheck(this, App);\n    return this.setState({\n      handDialogOpen: true\n    });\n  }\n\n  showSuggestDialog() {\n    boundMethodCheck(this, App);\n    return this.setState({\n      suggestDialogOpen: true\n    });\n  }\n\n  showShowDialog() {\n    boundMethodCheck(this, App);\n    return this.setState({\n      showDialogOpen: true\n    });\n  }\n\n  handleShowDialogClose() {\n    boundMethodCheck(this, App);\n    return this.setState({\n      showDialogOpen: false\n    });\n  }\n\n  showNewGameDialog() {\n    boundMethodCheck(this, App);\n    return this.setState({\n      newGameDialogOpen: true\n    });\n  }\n\n  handleNewGameDialogClose() {\n    boundMethodCheck(this, App);\n    return this.setState({\n      newGameDialogOpen: false\n    });\n  }\n\n  showConfirmDialog(question, yesAction, noAction) {\n    boundMethodCheck(this, App);\n    return this.setState({\n      confirmDialog: {\n        open: true,\n        question,\n        yesAction,\n        noAction\n      }\n    });\n  }\n\n  handleConfirmDialogClose() {\n    boundMethodCheck(this, App);\n    return this.setState({\n      confirmDialog: {\n        open: false,\n        question: '',\n        yesAction: null,\n        noAction: null\n      }\n    });\n  }\n\n  render() {\n    return <div className=\"App\">\n      <TopBar app={this} />\n      {(this.state.solver != null ? <CurrentState solver={this.state.solver} app={this} /> : void 0)}\n      <MainMenu anchor={this.state.mainMenuAnchor} onClose={() => {\n        return this.setState({\n          mainMenuAnchor: null\n        });\n      }} app={this} />\n      <SetupDialog open={this.state.newGameDialogOpen} configurations={configurations} playerIds={this.state.playerIds} configurationId={this.state.configurationId} onClose={this.handleNewGameDialogClose} app={this} />\n      <HandDialog open={this.state.handDialogOpen} configuration={configurations[this.state.configurationId]} playerIds={this.state.playerIds} onClose={() => {\n        return this.setState({\n          handDialogOpen: false\n        });\n      }} app={this} />\n      <SuggestDialog open={this.state.suggestDialogOpen} configuration={configurations[this.state.configurationId]} playerIds={this.state.playerIds} onClose={() => {\n        return this.setState({\n          suggestDialogOpen: false\n        });\n      }} app={this} />\n      <ShowDialog open={this.state.showDialogOpen} configuration={configurations[this.state.configurationId]} playerIds={this.state.playerIds} onClose={() => {\n        return this.setState({\n          showDialogOpen: false\n        });\n      }} app={this} />\n      <ConfirmDialog open={this.state.confirmDialog.open} question={this.state.confirmDialog.question} yesAction={this.state.confirmDialog.yesAction} noAction={this.state.confirmDialog.noAction} onClose={() => {\n        return this.setState({\n          confirmDialog: {\n            open: false,\n            question: '',\n            yesAction: null,\n            noAction: null\n          }\n        });\n      }} app={this} />\n    </div>;\n  }\n\n};\n\nexport default App;\n","// Generated by CoffeeScript 2.3.2\n\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport React, {Component} from 'react';\n;\nvar MultiplePlayerChooser,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } },\n  indexOf = [].indexOf;\n\nMultiplePlayerChooser = class MultiplePlayerChooser extends Component {\n  constructor() {\n    super(...arguments);\n    this.handleChangeCards = this.handleChangeCards.bind(this);\n  }\n\n  handleChangeCards(playerId) {\n    boundMethodCheck(this, MultiplePlayerChooser);\n    return (event) => {\n      console.log(`MultiplePlayerChooser::handleChangePlayers: (${playerId}, ${event.target.checked})`);\n      return this.props.onChange(playerId, event.target.checked);\n    };\n  }\n\n  render() {\n    var excluded, id, playerIds, value;\n    ({value, playerIds, excluded} = this.props);\n    return <FormGroup row>\n      {(function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = playerIds.length; i < len; i++) {\n        id = playerIds[i];\n        results.push(<FormControlLabel key={id} value={id} control={<Checkbox checked={indexOf.call(value, id) >= 0} disabled={indexOf.call(excluded, id) >= 0} onChange={this.handleChangeCards(id)} value={id} />} label={id} />);\n      }\n      return results;\n    }).call(this)}\n    </FormGroup>;\n  }\n\n};\n\nexport default MultiplePlayerChooser;\n","// Generated by CoffeeScript 2.3.2\n\nimport PerCategoryCardChooser from './PerCategoryCardChooser'\nimport MultiplePlayerChooser from './MultiplePlayerChooser'\nimport PlayerChooser from './PlayerChooser'\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport React, { Component } from 'react';\n;\nvar SuggestDialog,\n  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } },\n  indexOf = [].indexOf;\n\nSuggestDialog = class SuggestDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChangeSuggesterId = this.handleChangeSuggesterId.bind(this);\n    this.handleChangeCards = this.handleChangeCards.bind(this);\n    this.handleChangeShowedIds = this.handleChangeShowedIds.bind(this);\n    this.handleDone = this.handleDone.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.state = {\n      suggesterId: null,\n      cardIds: {},\n      showedIds: []\n    };\n  }\n\n  handleChangeSuggesterId(playerId) {\n    boundMethodCheck(this, SuggestDialog);\n    console.log(`HandDialog::handleChangeSuggesterId: (${playerId})`);\n    return this.setState({\n      suggesterId: playerId\n    });\n  }\n\n  handleChangeCards(typeId, cardId) {\n    boundMethodCheck(this, SuggestDialog);\n    return this.setState(function(state, props) {\n      var newCardIds;\n      newCardIds = Object.assign({}, state.cardIds);\n      newCardIds[typeId] = cardId;\n      return {\n        cardIds: newCardIds\n      };\n    });\n  }\n\n  handleChangeShowedIds(playerId, selected) {\n    boundMethodCheck(this, SuggestDialog);\n    console.log(`HandDialog::handleChangeCards: (${playerId}, ${selected})`);\n    if (selected) {\n      return this.setState(function(state, props) {\n        if (indexOf.call(state.showedIds, playerId) < 0) {\n          return {\n            showedIds: state.showedIds.concat([playerId])\n          };\n        } else {\n          return null;\n        }\n      });\n    } else {\n      return this.setState(function(state, props) {\n        var id;\n        if (indexOf.call(state.showedIds, playerId) >= 0) {\n          return {\n            showedIds: (function() {\n              var i, len, ref, results;\n              ref = state.showedIds;\n              results = [];\n              for (i = 0, len = ref.length; i < len; i++) {\n                id = ref[i];\n                if (id !== playerId) {\n                  results.push(id);\n                }\n              }\n              return results;\n            })()\n          };\n        } else {\n          return null;\n        }\n      });\n    }\n  }\n\n  handleDone() {\n    var cardId, cardIds, typeId;\n    boundMethodCheck(this, SuggestDialog);\n    console.log(\"SuggestDialog::handleDone\");\n    cardIds = (function() {\n      var ref, results;\n      ref = this.state.cardIds;\n      results = [];\n      for (typeId in ref) {\n        cardId = ref[typeId];\n        results.push(cardId);\n      }\n      return results;\n    }).call(this);\n    if ((this.state.suggesterId != null) && cardIds.length === 3 && this.state.showedIds.length <= 3) {\n      if (this.state.showedIds.length > 0) {\n        this.props.app.recordSuggestion(this.state.suggesterId, cardIds, this.state.showedIds);\n        this.setState({\n          suggesterId: null,\n          cardIds: {},\n          showedIds: []\n        });\n        return this.props.onClose();\n      } else {\n        return this.props.app.showConfirmDialog(\"Are you sure that nobody showed any cards?\", () => {\n          this.props.app.recordSuggestion(this.state.suggesterId, cardIds, this.state.showedIds);\n          this.setState({\n            suggesterId: null,\n            cardIds: {},\n            showedIds: []\n          });\n          return this.props.onClose();\n        }, function() {\n          return {};\n        });\n      }\n    } else {\n      return this.props.app.showConfirmDialog(\"You must select a suggester, 3 cards, and up to 3 players who showed cards.\");\n    }\n  }\n\n  handleCancel() {\n    boundMethodCheck(this, SuggestDialog);\n    console.log(\"SuggestDialog::handleCancel\");\n    this.setState({\n      suggesterId: null,\n      cardIds: {},\n      showedIds: []\n    });\n    return this.props.onClose();\n  }\n\n  render() {\n    return <Dialog open={this.props.open} onClose={this.props.onClose}>\n      <DialogTitle id=\"form-dialog-title\">Record A Suggestion</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          <h4>Who made the suggestion?</h4>\n        </DialogContentText>\n        <PlayerChooser value={this.state.suggesterId} playerIds={this.props.playerIds} onChange={this.handleChangeSuggesterId} />\n        <Divider />\n        <DialogContentText>\n          <h4>What cards were suggested?</h4>\n        </DialogContentText>\n        <PerCategoryCardChooser value={this.state.cardIds} cards={this.props.configuration.cards} types={this.props.configuration.types} onChange={this.handleChangeCards} />\n        <Divider />\n        <DialogContentText>\n          <h4>Who showed cards?</h4>\n        </DialogContentText>\n        <MultiplePlayerChooser value={this.state.showedIds} playerIds={this.props.playerIds} excluded={this.state.suggesterId !== null ? [this.state.suggesterId] : []} onChange={this.handleChangeShowedIds} />\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"contained\" color=\"primary\" onClick={this.handleCancel}>Cancel</Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={this.handleDone}>Done</Button>\n      </DialogActions>\n    </Dialog>;\n  }\n\n};\n\nexport default SuggestDialog;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// Generated by CoffeeScript 2.3.2\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport registerServiceWorker from './registerServiceWorker'\n;\nReactDOM.render(<App />, document.getElementById('root'));\n\nregisterServiceWorker();\n"],"sourceRoot":""}